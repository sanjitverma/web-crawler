<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: Use same jar (different version) in one project</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201611.mbox/%3cCAKDUN1vEQgz8aSwe68B5cjgM_D2oTQdd=tK07rMKo6kKtsj5gQ@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201611.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201611.mbox/%3cCADN69y=iXiJvBCR2QLnf-91wTt7YJm5os3ps-eE_MqvsHDF1nw@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201611.mbox/%3cCAKDUN1vEQgz8aSwe68B5cjgM_D2oTQdd=tK07rMKo6kKtsj5gQ@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201611.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201611.mbox/%3cB8D164BED956C5439875951895CB4B2258941F09@CAFRFD1MSGUSRJH.ITServices.sbc.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201611.mbox/%3cCAKDUN1vEQgz8aSwe68B5cjgM_D2oTQdd=tK07rMKo6kKtsj5gQ@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201611.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201611.mbox/%3cCADN69y=iXiJvBCR2QLnf-91wTt7YJm5os3ps-eE_MqvsHDF1nw@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201611.mbox/%3cCAKDUN1vEQgz8aSwe68B5cjgM_D2oTQdd=tK07rMKo6kKtsj5gQ@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201611.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201611.mbox/%3cB8D164BED956C5439875951895CB4B2258941F09@CAFRFD1MSGUSRJH.ITServices.sbc.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Curtis Rueden &lt;ctrue...@wisc.edu&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: Use same jar (different version) in one project</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Tue, 29 Nov 2016 18:05:36 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
&gt; How to depend on the same jars with different versions in one project?

Maven's whole design is centered around each GA having only one associated
V. Hence, it performs dependency convergence during builds etc. You can do
a structure like Anders described, which will solve it at compile time, but
it does not address runtime deployment, where presumably you will have one
single classpath. You can of course put both versions of the library in
question on your classpath via some mechanism, but if you want to lean on
Maven for this, it will not be easy.

The solution I've seen which works well is to use a different artifactId
for the new versionâ€”as long as the classes are indeed different. For
example, Apache Commons Math 3 is org.apache.commons:commons-math3 [1],
whereas the older Commons Math 2 is org.apache.commons:commons-math [2].
This is really nice because then you can use both artifacts freely in a
single Maven project.

If you use a Maven repository manager in your organization, you can always
redeploy one of the project versions under a different GA in your
repository, and depend on that, so that Maven does the "right thing" for
your needs here.

Regards,
Curtis

[1]
http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.apache.commons%22%20AND%20a%3A%22commons-math3%22
[2]
http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.apache.commons%22%20AND%20a%3A%22commons-math%22

--
Curtis Rueden
LOCI software architect - http://loci.wisc.edu/software
ImageJ2 lead, Fiji maintainer - http://imagej.net/User:Rueden


On Mon, Nov 28, 2016 at 9:14 PM, big data &lt;bigdatabase@outlook.com&gt; wrote:

&gt; Dear all,
&gt;
&gt; How to depend on the same jars with different versions in one project?
&gt; Our project is used to deploy on different customer side, which has
&gt; different jar version environments. The codes depends the jar, which has
&gt; two different version 1.0 and 2.0, these two versions are not compatible
&gt; (eash one has own unique API), so our code should support these two
&gt; versions, and can build to different release package to support 1.0 or 2.0.
&gt;
&gt; how to configure pom to support this situation?
&gt;
&gt; Thanks.
&gt;

</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li>Unnamed multipart/alternative (inline, None, 0 bytes)</li>
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201611.mbox/raw/%3cCADN69ynKMwyGYpeUr_6UedscPkb=jqG1GeC-Azo3xwCHy-d+8g@mail.gmail.com%3e/1">Unnamed text/plain</a> (inline, Quoted Printable, 2158 bytes)</li>
</ul>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201611.mbox/raw/%3cCADN69ynKMwyGYpeUr_6UedscPkb=jqG1GeC-Azo3xwCHy-d+8g@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

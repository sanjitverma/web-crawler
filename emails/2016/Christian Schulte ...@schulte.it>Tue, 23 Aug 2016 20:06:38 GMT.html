<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: dependencyManagement BOM question</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201608.mbox/%3cCAA8BW8Er=iar_wnKQ+dtP2sa+tYzOZhb+Jd_YiDBsHh=ks1Gnw@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCADN69ymyY6-BQppinjOSiFyPaojpFoyK0k+47eQufU073Jj-Tg@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201608.mbox/%3cCAA8BW8Er=iar_wnKQ+dtP2sa+tYzOZhb+Jd_YiDBsHh=ks1Gnw@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201608.mbox/%3c20160828105459.DF6991911F@minotaur.apache.org%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201608.mbox/%3cCAA8BW8Er=iar_wnKQ+dtP2sa+tYzOZhb+Jd_YiDBsHh=ks1Gnw@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCADN69ymyY6-BQppinjOSiFyPaojpFoyK0k+47eQufU073Jj-Tg@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201608.mbox/%3cCAA8BW8Er=iar_wnKQ+dtP2sa+tYzOZhb+Jd_YiDBsHh=ks1Gnw@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201608.mbox/%3c20160828105459.DF6991911F@minotaur.apache.org%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Christian Schulte ...@schulte.it&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: dependencyManagement BOM question</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Tue, 23 Aug 2016 20:06:38 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
Am 08/23/16 um 21:27 schrieb David Hoffer:
&gt; I have some questions regarding how importing a pom type dependency in my
&gt; dependencyManagement section really works (e.g. BOM dependency).  At a
&gt; basic level I understand it will effectively add all its dependencies
&gt; defined in its dependencyManagement section to my dependencyManagement
&gt; section.

Not all. Only the dependencies not already declared in your effective
dependency management. Implemented in class
'org.apache.maven.model.composition.DefaultDependencyManagementImporter'

&lt;https://git-wip-us.apache.org/repos/asf?p=maven.git;a=blob;f=maven-model-builder/src/main/java/org/apache/maven/model/composition/DefaultDependencyManagementImporter.java;h=c3a0201b34be6402333f90ed4b807ec62e9ff898;hb=HEAD&gt;

based on method 'getManagementKey' of class
'org.apache.maven.model.Dependency'

&lt;https://git-wip-us.apache.org/repos/asf?p=maven.git;a=blob;f=maven-model/src/main/mdo/maven.mdo;h=8abf29ed89d256e5dbf889f7e813c1d5bf79844e;hb=629fd749e59a679809c86eb26d554520e4de3a78#l1456&gt;.

&gt; 
&gt; However the imported pom uses variables for all the versions and defines
&gt; them in its pom.  Now if I want to use a different version and also have
&gt; the version variable (same variable name) set in my pom, which version will
&gt; be used?

Maven imports the effective dependency management of the BOM (after
inheritance, interpolation, etc.). Consider the BOM a standalone project
without any relationship to the importing POM.

&gt; 
&gt; What about order of the BOM import?  Does the order of the BOM import
&gt; matter with respect to other non imported dependencyManagement
&gt; dependencies?  If my POM has the same dependency of the imported one which
&gt; one will be used?  Lets say in one case I'm using a property variable to
&gt; specify the version and also if I use a literal version.
&gt; 

Effective dependencies of the POM override what gets imported. See
above. When using multiple BOM imports in the POM, the order of
declaration of those imports matter (after inheritance, interpolation,
etc.). As of Maven 3.4.0-SNAPSHOT you'll get a warning when your POM
depends on this "first declaration wins" itch. Relying on the order of
XML elements should be avoided.

Regards,
-- 
Christian


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201608.mbox/raw/%3c57BCACCE.6090900@schulte.it%3e/">Unnamed text/plain</a> (inline, 7-Bit, 2415 bytes)</li>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201608.mbox/raw/%3c57BCACCE.6090900@schulte.it%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: &quot;mvn clean verify deploy&quot; causes jar plugin to execute twice</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201608.mbox/%3c20160805152608.1655aa78@copperhead.int.arc7.info%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCA+nPnMwbVp_dNJ1=QsGO5fxwqJccyy2S5FVP8ZegGbrsYnsBLg@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201608.mbox/%3c20160805152608.1655aa78@copperhead.int.arc7.info%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCA+nPnMyhUv=kLT3wHpvJE3gk2ku=oaaYxi0i7RqZGopUK3=jVw@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201608.mbox/%3c20160805152608.1655aa78@copperhead.int.arc7.info%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCA+nPnMwbVp_dNJ1=QsGO5fxwqJccyy2S5FVP8ZegGbrsYnsBLg@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201608.mbox/%3c20160805152608.1655aa78@copperhead.int.arc7.info%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCA+nPnMyhUv=kLT3wHpvJE3gk2ku=oaaYxi0i7RqZGopUK3=jVw@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Anders Hammar &lt;and...@hammar.net&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: &quot;mvn clean verify deploy&quot; causes jar plugin to execute twice</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Fri, 05 Aug 2016 16:48:25 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
Executing
mvn verify deploy
will execute the build lifecycle twice. No need to do that. Just execute
mvn deploy
as the deploy phase comes after the verify phase.
Clean phase is of different lifecycle though. So in your case:
mvn clean deploy

However, there might be a bug nevertheless as your execution shouldn't
typically generate an exception.

/Anders (mobile)

On Aug 5, 2016 18:19, &lt;org.apache.maven.user@io7m.com&gt; wrote:

Hello.

I've run into a bizarre problem when trying to deploy a project.

If I run "mvn clean verify", the project builds without issue. If I run
"mvn clean verify deploy", the project fails to build (on the very last
module, naturally).

The error is:

[ERROR] Failed to execute goal
org.apache.maven.plugins:maven-jar-plugin:3.0.0:jar
(default-jar) on project io7m-jsx-tests: You have to use a classifier to
attach supplemental artifacts to the project instead of replacing them. -&gt;
[Help 1]

I am not attaching supplemental artifacts in that module, and am also not
replacing any.

The project in question is here:

  https://github.com/io7m/jsx/tree/develop

The failure occurs when deploying the io7m-jsx-tests module:

  http://ataxia.io7m.com/2016/08/05/build.txt

Note that there are no sources in src/main as this is a module containing
the unit tests for all other modules. However, this has not been a problem
to date and have used this arrangement without issue in some 40 or so
projects. Today, it suddenly appears to be a problem.

Is this a bug? Is there anything I can do to fix it?

M

</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li>Unnamed multipart/alternative (inline, None, 0 bytes)</li>
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201608.mbox/raw/%3cCAKDUN1uvuH0Xs5isyqNzPmU1_Bb8awBR5U5xvK3q9B6=BQuRTg@mail.gmail.com%3e/1">Unnamed text/plain</a> (inline, None, 1532 bytes)</li>
</ul>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201608.mbox/raw/%3cCAKDUN1uvuH0Xs5isyqNzPmU1_Bb8awBR5U5xvK3q9B6=BQuRTg@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: Preleminary Maven 3.4.0-SNAPSHOT Testing (Take 3)</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201608.mbox/%3c1BD8E973-C1EC-4A6F-994C-788D52849052@talios.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCALhtWkeCB8MABjmHv_=AQFsbQSxgXePmWbjvifQcN_5KaEtNBw@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201608.mbox/%3c1BD8E973-C1EC-4A6F-994C-788D52849052@talios.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCADN69yn+3nbY1wYhBHb01yN7Ty+=2sj6yPzYSqveLA=v6gT2Vw@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201608.mbox/%3c1BD8E973-C1EC-4A6F-994C-788D52849052@talios.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCALhtWkeCB8MABjmHv_=AQFsbQSxgXePmWbjvifQcN_5KaEtNBw@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201608.mbox/%3c1BD8E973-C1EC-4A6F-994C-788D52849052@talios.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCADN69yn+3nbY1wYhBHb01yN7Ty+=2sj6yPzYSqveLA=v6gT2Vw@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Christian Schulte ...@schulte.it&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: Preleminary Maven 3.4.0-SNAPSHOT Testing (Take 3)</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Wed, 17 Aug 2016 02:57:12 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
Am 08/17/16 um 04:09 schrieb Mark Derricutt:
&gt; On 17 Aug 2016, at 12:32, Christian Schulte wrote:
&gt; 
&gt;&gt; There is an easy way to solve this. Maven validates the model version in
&gt;&gt; the POM to match "4.0.0". Based on that version, Maven can decide how to
&gt;&gt; behave. I am thinking about introducing model version "4.1.0" in Maven
&gt;&gt; 3.4. All existing 4.0.0 POMs will work the same way as before. Model
&gt; 
&gt; Would the deployed POM be a 4.1.0 or 4.0.0 Model? I seem to recall a long time ago when
we were doing the Google Hangouts discussions about a mental separation of build/deploy POM.

Deployed as 4.1.0. Yes, that means POMs will start to appear not useable
with Maven &lt; 3.4. Tools parsing the POMs themselves (not using
maven-model-builder) would need to support that as well.

&gt; 
&gt; If deployed as 4.1.0 then you'd be forcing all consumers of that dependency to use Maven
3.4.0 itself ( IMHO not in itself a bad idea ), but that might hurt any consuming applications
like Sonar, Jenkins, or other build tools.
&gt; 

That's the drawback I am seeing as well. It's the same syntax with
different semantics. That's why Maven &lt; 3.4 would need to abort.
Everything &lt; 3.4 cannot provide the behaviour for that model version and
thus must not e.g. silently ignore XML elements leading to e.g.
different dependency trees when used with &gt;= 3.4. It's a question of how
to progress Maven core when it comes to changes in behaviour making
sense. "Has always been that way -&gt; must not change." Means we can never
change anything and must provide new features for changing things (e.g.
keep the import scope the way it always has been and introduce an
include scope with the new behaviour and document the import scope is
considered deprecated). It's not always possible to introduce a change
as a new feature. We recently discussed the addition of some kind of
feature toggles or knobs. That won't work, in my opinion, because Maven
would behave differently based on command line options. It's not
possible to deploy a POM to central whose correct/intended behaviour
depends on a specical command line option in use. I see no other way to
incrementing the model version for such things. Maven needs to know how
to behave solely based on what is in the POM. Nothing syntax related.

Regards,
-- 
Christian


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201608.mbox/raw/%3c57B3D288.8080306@schulte.it%3e/">Unnamed text/plain</a> (inline, 7-Bit, 2485 bytes)</li>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201608.mbox/raw/%3c57B3D288.8080306@schulte.it%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: Create test jar during build without attaching</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201608.mbox/%3cCADN69y=pMTG9Jxw8xoOZqhj0it4ANO-wRSsfsuhssMiHncMEWA@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCADN69ymLmu4vJmcdqtoWvAsKqvNponmsOZVe3vgDNTZSceUHYA@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201608.mbox/%3cCADN69y=pMTG9Jxw8xoOZqhj0it4ANO-wRSsfsuhssMiHncMEWA@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCADN69ymLmu4vJmcdqtoWvAsKqvNponmsOZVe3vgDNTZSceUHYA@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201608.mbox/%3cCADN69y=pMTG9Jxw8xoOZqhj0it4ANO-wRSsfsuhssMiHncMEWA@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCADN69ymLmu4vJmcdqtoWvAsKqvNponmsOZVe3vgDNTZSceUHYA@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201608.mbox/%3cCADN69y=pMTG9Jxw8xoOZqhj0it4ANO-wRSsfsuhssMiHncMEWA@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCADN69ymLmu4vJmcdqtoWvAsKqvNponmsOZVe3vgDNTZSceUHYA@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Christopher &lt;ctubb...@apache.org&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: Create test jar during build without attaching</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Fri, 19 Aug 2016 21:20:59 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
We're not going to add the jar to SCM.... there's many reasons, and I could
go into depth about all of them (I've tried to enumerate some already), but
again... that's not the question. We're not going to do that. and I've
already stated that. I appreciate the advice... really, I do... but we're
not going to do that. Responding with that suggestion does not help answer
the question asked.

The purpose of this thread is to figure out the best way to create a jar
during the build without attaching. That's the requirement. That's the goal.

On Fri, Aug 19, 2016 at 5:09 PM Curtis Rueden &lt;ctrueden@wisc.edu&gt; wrote:

&gt; Hi Christopher,
&gt;
&gt; The point of this JAR is for use in a unit test, right?
&gt;
&gt; So if it's in src/test/resources, it will only end up lumped into the test
&gt; JAR, not the main JAR. Do you guys deploy your test JAR for downstream
&gt; consumption? If so, do you actually need all the unit tests to pass _when
&gt; run from the test JAR outside the project_? Or only during the actual Maven
&gt; build? Because if you don't need that, then you could just put the JAR
&gt; resource outside of src/test/resources (in, say, ${basedir}/src/test/extra
&gt; or some such) and just access it from that relative path during the unit
&gt; tests. You get your unit test, your test JAR does not get bloated by this
&gt; nested JAR resource, and life goes on.
&gt;
&gt; That said, I agree with the others that naively, it does not seem bad to
&gt; have this tiny test JAR embedded in your deployed test JAR. It is a binary
&gt; test resource, very similar to an image file.
&gt;
&gt; Regards,
&gt; Curtis
&gt;
&gt; --
&gt; Curtis Rueden
&gt; LOCI software architect - http://loci.wisc.edu/software
&gt; ImageJ2 lead, Fiji maintainer - http://imagej.net/User:Rueden
&gt; Did you know ImageJ has a forum? http://forum.imagej.net/
&gt;
&gt;
&gt; On Fri, Aug 19, 2016 at 1:46 PM, Christopher &lt;ctubbsii@apache.org&gt; wrote:
&gt;
&gt; &gt; We don't want to skip deployment of all the artifacts, just one jar built
&gt; &gt; in one module for one test, which is not intended to be one of the
&gt; &gt; artifact's modules. *maybe* we could move it to a separate module, and
&gt; skip
&gt; &gt; deploy, but we've already got a lot of module bloat, and I'd prefer not
&gt; to
&gt; &gt; make it worse.
&gt; &gt;
&gt; &gt; On Fri, Aug 19, 2016 at 2:34 PM Gordon Cody &lt;gordon.cody@zafin.com&gt;
&gt; wrote:
&gt; &gt;
&gt; &gt; &gt; Perhaps I don't understand what is meant by "not attaching" but if all
&gt; &gt; you
&gt; &gt; &gt; want to do is skip deployment, the maven-deploy-plugin has this
&gt; feature:
&gt; &gt; &gt;                 &lt;configuration&gt;
&gt; &gt; &gt;                     &lt;skip&gt;true&lt;/skip&gt;
&gt; &gt; &gt;                 &lt;/configuration&gt;
&gt; &gt; &gt; which can be added to the module you do not wish to deploy. We use this
&gt; &gt; in
&gt; &gt; &gt; order to not deploy .ear files to our artifactory.
&gt; &gt; &gt;
&gt; &gt; &gt; Regards, Gord Cody
&gt; &gt; &gt;
&gt; &gt; &gt; On Fri, Aug 19, 2016 at 1:37 PM, Karl Heinz Marbaise &lt;
&gt; khmarbaise@gmx.de&gt;
&gt; &gt; &gt; wrote:
&gt; &gt; &gt;
&gt; &gt; &gt; &gt; Hi,
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; On 19/08/16 03:36, Christopher wrote:
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;&gt; Hi Maven Users list,
&gt; &gt; &gt; &gt;&gt;
&gt; &gt; &gt; &gt;&gt; What's the best way to create a jar during a build without attaching
&gt; &gt; it?
&gt; &gt; &gt; &gt;&gt;
&gt; &gt; &gt; &gt;&gt; Currently, our pom is configured to use the maven-jar-plugin to
&gt; create
&gt; &gt; &gt; it,
&gt; &gt; &gt; &gt;&gt; but that plugin attaches an artifact, which gets deployed. We don't
&gt; &gt; want
&gt; &gt; &gt; &gt;&gt; that. That doesn't seem to be configurable.
&gt; &gt; &gt; &gt;&gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Can you describe why you would like to create a jar which shouldn't
&gt; be
&gt; &gt; &gt; &gt; deployed ? May be we can enhance maven-jar-plugin to support such a
&gt; use
&gt; &gt; &gt; &gt; case?
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Kind regards
&gt; &gt; &gt; &gt; Karl Heinz Marbaise
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; ---------------------------------------------------------------------
&gt; &gt; &gt; &gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt; &gt; &gt; &gt; For additional commands, e-mail: users-help@maven.apache.org
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; --
&gt; &gt; &gt; Best Regards, Gord Cody
&gt; &gt; &gt;
&gt; &gt; &gt; Release Manager  Zafin Labs Americas Inc.
&gt; &gt; &gt; 179 Colonnade Road-Suite 100, Ottawa ON, Canada
&gt; &gt; &gt; Phone: +1 (613) 216-2504  Fax: +1 (613) 688-1374  Mobile: +1
&gt; &gt; 613-601-2734
&gt; &gt; &gt; Web: http://zafin.com  Email: gordon.cody@zafin.com
&gt; &gt; &gt;
&gt; &gt; &gt; --
&gt; &gt; &gt; Zafin - Canada
&gt; &gt; &gt;
&gt; &gt; &gt; --
&gt; &gt; &gt; http://zafin.com
&gt; &gt; &gt;
&gt; &gt; &gt; &lt;http://zafin.com/&gt;
&gt; &gt; &gt;
&gt; &gt; &gt; ------------------------------
&gt; &gt; &gt;
&gt; &gt; &gt; Connect with us
&gt; &gt; &gt;
&gt; &gt; &gt; &lt;http://www.youtube.com/user/ZafinGlobal&gt;
&gt; &gt; &gt; &lt;http://www.linkedin.com/company/Zafin&gt;  &lt;http://twitter.com/Zafin&gt;
&gt; &gt; &gt;
&gt; &gt; &gt; News and Events
&gt; &gt; &gt;
&gt; &gt; &gt; Zafin announces 100 person Center of Excellence in Toronto
&gt; &gt; &gt; &lt;
&gt; &gt; &gt; http://zafin.com/press-releases/zafin-announces-new-
&gt; &gt; 100-person-centre-excellence-toronto/
&gt; &gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; For the 2nd consecutive year, Zafin named to the Deloitte Fast 50 and
&gt; &gt; Fast
&gt; &gt; &gt; 500 rankings
&gt; &gt; &gt; &lt;
&gt; &gt; &gt; http://zafin.com/press-releases/zafin-named-deloitte-
&gt; &gt; technology-fast-50-fast-500-lists/
&gt; &gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; &lt;
&gt; &gt; &gt; http://zafin.com/press-releases/zafin-ranks-16th-on-
&gt; &gt; the-2014-deloitte-technology-fast-50-list/
&gt; &gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt;
&gt;

</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li>Unnamed multipart/alternative (inline, None, 0 bytes)</li>
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201608.mbox/raw/%3cCAL5zq9YUz1qbhDTrjA=9zhyeAHuZSEB076wv=cGGZjUJfa4jgQ@mail.gmail.com%3e/1">Unnamed text/plain</a> (inline, None, 4974 bytes)</li>
</ul>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201608.mbox/raw/%3cCAL5zq9YUz1qbhDTrjA=9zhyeAHuZSEB076wv=cGGZjUJfa4jgQ@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

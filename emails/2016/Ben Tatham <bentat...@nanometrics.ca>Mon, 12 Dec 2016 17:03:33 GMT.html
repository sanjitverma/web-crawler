<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>build extension in reactor</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201612.mbox/%3c1202541542.01481394028133.JavaMail.schulte@Studio%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201612.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201612.mbox/%3cCAB9FDb=JcdEWf=h5gP8v3nxE8wk6TfrBMzU7M-LaEzR8z_2m=Q@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201612.mbox/%3c1202541542.01481394028133.JavaMail.schulte@Studio%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201612.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201612.mbox/%3cop.ysdftbprkdkhrr@desktop-2khsk44%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201612.mbox/%3c1202541542.01481394028133.JavaMail.schulte@Studio%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201612.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201612.mbox/%3cCAB9FDb=JcdEWf=h5gP8v3nxE8wk6TfrBMzU7M-LaEzR8z_2m=Q@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201612.mbox/%3c1202541542.01481394028133.JavaMail.schulte@Studio%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201612.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201612.mbox/%3cop.ysdftbprkdkhrr@desktop-2khsk44%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Ben Tatham &lt;bentat...@nanometrics.ca&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">build extension in reactor</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Mon, 12 Dec 2016 17:03:33 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
Hi all,
Is it possible to define a custom lifecycle (build extension) in a plugin
that is in the same reactor as a project that uses that lifecycle?  From
what I can tell, the answer is no, but perhaps I am missing something
subtle that would allow it to work.

Imagine a project like this:

foo-parent
  - foo-lifecycle-plugin
    (defines components.xml with foo-product)
 - foo
    - &lt;packaging&gt;foo-product&lt;/packaging&gt;
      &lt;plugin&gt;
         &lt;artifactId&gt;foo-lifecycle-plugin&lt;/artifactId&gt;
         &lt;version&gt;${project.parent.version}&lt;/version&gt;
         &lt;extensions&gt;true&lt;/extensions&gt;
       &lt;/plugin&gt;

Seems like even mvn validate won't run from the top of the reactor:

[ERROR] Unresolveable build extension: Plugin
ca.nanometrics.apollo:foo-lifecycle-plugin:4.0.0-SNAPSHOT or one of its
dependencies could not be resolved: Failed to read artifact descriptor for
ca.nanometrics.apollo:foo-lifecycle-plugin:jar:4.0.0-SNAPSHOT @
[ERROR] Unknown packaging: foo-product @
ca.nanometrics.apollo:foo:[unknown-version],
C:\work\git\products_apollo-server\foo\pom.xml, line 10, column 14
 @


I can get it to work if I do the following, but obviously that is not ideal
to have to manually do the reactor like that.

mvn install -N   # builds the parent
mvn install -f foo-lifecycle-plugin # build just the plugin
mvn install # build everything - (could also just build -pl :foo)



-- 
-- 
Ben Tatham
Software Architect

*Nano**metrics* *Inc.*

Ottawa * I*  Calgary  *I*  Houston  *I*  Beijing

T: +1 613 505 5065  *I*  bentatham@nanometrics.ca
 www.nanometrics.ca  *I  *www.microseismicmonitoring.com

This message is intended exclusively for the individual or entity to which
it is addressed. This communication may contain information that is
proprietary, privileged, confidential or otherwise legally exempt from
disclosure. If you are not the named addressee, or have been inadvertently
and erroneously referenced in the address line, you are not authorized to
read, print, retain, copy or disseminate this message or any part of it. If
you have received this message in error, please notify the sender
immediately by e-mail and delete all copies of the message.

</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li>Unnamed multipart/alternative (inline, None, 0 bytes)</li>
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201612.mbox/raw/%3cCAB9FDbntQ=_603=QCLz4RdEUYLPC03cE2Y-s_E_7eUYzE+5YWQ@mail.gmail.com%3e/1">Unnamed text/plain</a> (inline, None, 2163 bytes)</li>
</ul>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201612.mbox/raw/%3cCAB9FDbntQ=_603=QCLz4RdEUYLPC03cE2Y-s_E_7eUYzE+5YWQ@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

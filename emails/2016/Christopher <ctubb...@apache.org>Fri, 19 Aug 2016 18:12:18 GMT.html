<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: Create test jar during build without attaching</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201608.mbox/%3c64930742-4d74-72a8-b3a4-a8c2d8e9ea0e@gmx.de%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCAL5zq9a5TmDg9Dxj7A0eUcLiFmLWOUg6sTr3QnAriUoWKoaKtA@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201608.mbox/%3c64930742-4d74-72a8-b3a4-a8c2d8e9ea0e@gmx.de%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCALN=NUE8tPstSSZ_QecRztARv6qT_rgQbF9JvZwG0O8Hr4F+FA@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201608.mbox/%3c64930742-4d74-72a8-b3a4-a8c2d8e9ea0e@gmx.de%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCAL5zq9a5TmDg9Dxj7A0eUcLiFmLWOUg6sTr3QnAriUoWKoaKtA@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201608.mbox/%3c64930742-4d74-72a8-b3a4-a8c2d8e9ea0e@gmx.de%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201608.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201608.mbox/%3cCALN=NUE8tPstSSZ_QecRztARv6qT_rgQbF9JvZwG0O8Hr4F+FA@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Christopher &lt;ctubb...@apache.org&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: Create test jar during build without attaching</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Fri, 19 Aug 2016 18:12:18 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
On Fri, Aug 19, 2016 at 1:38 PM Karl Heinz Marbaise &lt;khmarbaise@gmx.de&gt;
wrote:

&gt; Hi,
&gt;
&gt; On 19/08/16 03:36, Christopher wrote:
&gt; &gt; Hi Maven Users list,
&gt; &gt;
&gt; &gt; What's the best way to create a jar during a build without attaching it?
&gt; &gt;
&gt; &gt; Currently, our pom is configured to use the maven-jar-plugin to create
&gt; it,
&gt; &gt; but that plugin attaches an artifact, which gets deployed. We don't want
&gt; &gt; that. That doesn't seem to be configurable.
&gt;
&gt; Can you describe why you would like to create a jar which shouldn't be
&gt; deployed ? May be we can enhance maven-jar-plugin to support such a use
&gt; case?
&gt;

The goal is to test a classloader during the integration-test phase. For
the same reason that most people don't deploy the test-jar (or even create
it), we don't want to deploy this jar.

Another reason why we wouldn't want to deploy is that the contents of the
jar might be dynamically generated, so that we can verify that the
classloader is loading classes from this particular execution of the test,
and isn't being loaded from somewhere else on the classpath. Deploying it
to maven would be suitable for reuse, but we wouldn't want reuse in this
case.

The more I think about it, I think the maven-jar-plugin isn't necessarily
appropriate for this. I think the maven-assembly-plugin is better suited to
create the jar, and that does have an option to not attach.

</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li>Unnamed multipart/alternative (inline, None, 0 bytes)</li>
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201608.mbox/raw/%3cCAL5zq9a928c+z7H2cJXyyeAf4d=5GSy+TWyJBJthqOLqBRbMtg@mail.gmail.com%3e/1">Unnamed text/plain</a> (inline, None, 1373 bytes)</li>
</ul>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201608.mbox/raw/%3cCAL5zq9a928c+z7H2cJXyyeAf4d=5GSy+TWyJBJthqOLqBRbMtg@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: Re: [Regression] Declared properties could not be modified anymore within a plugin</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201610.mbox/%3ctrinity-e473a1c6-26b1-4cc5-a83d-852dde6e32bd-1475583870817@3capp-gmx-bs62%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201610.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201610.mbox/%3cCANEBwBbTpQgFk4CJotwNyGu3vXyPAb-TkT=POjiq8NWhjnoGsQ@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201610.mbox/%3ctrinity-e473a1c6-26b1-4cc5-a83d-852dde6e32bd-1475583870817@3capp-gmx-bs62%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201610.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201610.mbox/%3cCALhtWkffT0d_oFwWdspGskfXFP4Y85zN5vD5S1grkpGKTgeiNw@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201610.mbox/%3ctrinity-e473a1c6-26b1-4cc5-a83d-852dde6e32bd-1475583870817@3capp-gmx-bs62%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201610.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201610.mbox/%3cCANEBwBbTpQgFk4CJotwNyGu3vXyPAb-TkT=POjiq8NWhjnoGsQ@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201610.mbox/%3ctrinity-e473a1c6-26b1-4cc5-a83d-852dde6e32bd-1475583870817@3capp-gmx-bs62%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201610.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201610.mbox/%3cCALhtWkffT0d_oFwWdspGskfXFP4Y85zN5vD5S1grkpGKTgeiNw@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Benson Margulies &lt;bimargul...@gmail.com&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: Re: [Regression] Declared properties could not be modified anymore within a plugin</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Tue, 04 Oct 2016 20:03:22 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
On Tue, Oct 4, 2016 at 5:35 AM, M. Richey &lt;mrichey@gmx.de&gt; wrote:
&gt; Thanks Benson to point that out, it's a good example.
&gt;
&gt; We have several use cases where we modify properties with our plugins. We have a large
variety of our software which to build for up to three brands. For which brand a specific
software is to build is defined outside the poms and provided by our plugin. As we all know
you can't loop inside the poms. So we execute a plugin once for each brand to find out if
this variant should be build for the brand specified. Therefore we defined a property in the
pom.xml, pre-initialized with a default value, and if the software should be build for one
brand, the brand is appended to the list, i.e. the value of the property, during the execution
of our plugin. So the value of the property may be something like "default,brand1,brand3"
after the executions of the plugin.
&gt;
&gt; So for us it is a blocker at the moment that one can't modify properties during the execution
of a plugin anymore.
&gt;
&gt; Benson, you said you have some of these working with 3.3.9. Can you give an example of
a plugin where this is working? I would like to see how they are doing it in their code.

I'd better do a test to ensure that they are working as well as I
think they are and then get back to you.
&gt;
&gt; Kind regards,
&gt;
&gt; Maik
&gt;
&gt;
&gt;
&gt;&gt; Gesendet: Sonntag, 02. Oktober 2016 um 22:04 Uhr
&gt;&gt; Von: "Benson Margulies" &lt;bimargulies@gmail.com&gt;
&gt;&gt; An: "Maven Users List" &lt;users@maven.apache.org&gt;, info@soebes.de
&gt;&gt; Betreff: Re: [Regression] Declared properties could not be modified anymore within
a plugin
&gt;&gt;
&gt;&gt; On Fri, Sep 30, 2016 at 1:50 PM, Karl Heinz Marbaise &lt;khmarbaise@gmx.de&gt; wrote:
&gt;&gt; &gt; Hi,
&gt;&gt; &gt;
&gt;&gt; &gt; On 30/09/16 15:20, mrichey@gmx.de wrote:
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; Hi all,
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; we discovered a problem with properties defined in a pom.xml.
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; Properties could be defined in a pom.xml like:
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; &lt;properties&gt;
&gt;&gt; &gt;&gt; &lt;myProp&gt;default&lt;/myProp&gt;
&gt;&gt; &gt;&gt; &lt;/properties&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; In a maven plugin we fetch all the properties by calling:
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; Properties projectProps = project.getProperties();
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; Running all this with maven 2 we were able to modify the value of "myProp"
&gt;&gt; &gt;&gt; within the plugin by:
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; projectProps.put("myProp", "newValue");
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; So after the execution of the plugin, the property &lt;myProp&gt; has the
value
&gt;&gt; &gt;&gt; "newValue".
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; Running all this with maven 3 that does not work anymore.
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; First I would say this is by design wrong, cause if you define a property in
&gt;&gt; &gt; the pom file I would like to be sure that it will be kept the value I have
&gt;&gt; &gt; given and if a plugin (which could it be) will change that I will be really
&gt;&gt; &gt; astonished.
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; Apart from that my question: Why do you need to change existing properties
&gt;&gt; &gt; and why not changing the in the pom which is more clearer than mysteriously
&gt;&gt; &gt; chaning a property by a plugin?...
&gt;&gt; &gt;
&gt;&gt; &gt; Can you give more details about your use case ? Best would be having a real
&gt;&gt; &gt; workign example and what kind of problems you are trying to solve with this
&gt;&gt; &gt; approach?
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; Kind regards
&gt;&gt; &gt; Karl Heinz Marbaise
&gt;&gt; &gt;
&gt;&gt; &gt; ---------------------------------------------------------------------
&gt;&gt; &gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt;&gt; &gt; For additional commands, e-mail: users-help@maven.apache.org
&gt;&gt;
&gt;&gt; Here's why this is important.
&gt;&gt;
&gt;&gt; Consider a plugin with the job of setting a property, like many of the
&gt;&gt; build-helper goals, or the build-number plugin.
&gt;&gt;
&gt;&gt; Now, consider an IDE. The IDEs don't, in general, know about these
&gt;&gt; plugins. They get confused when they don't have a value at all. So,
&gt;&gt; SOP is is to put a harmless default into the POM, and count on the
&gt;&gt; plugin overwriting it. I have some of these working with 3.3.9, so
&gt;&gt; there must be something more subtle going on.
&gt;&gt;
&gt;&gt;
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt; ---------------------------------------------------------------------
&gt;&gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt;&gt; For additional commands, e-mail: users-help@maven.apache.org
&gt;&gt;
&gt;&gt;
&gt;
&gt; ---------------------------------------------------------------------
&gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt; For additional commands, e-mail: users-help@maven.apache.org
&gt;

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201610.mbox/raw/%3cCALhtWkfFgkL0hVFmBBcAhbd-SGGR4L2pgYMm5f2pvSf_ujiTvA@mail.gmail.com%3e/">Unnamed text/plain</a> (inline, Quoted Printable, 4534 bytes)</li>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201610.mbox/raw/%3cCALhtWkfFgkL0hVFmBBcAhbd-SGGR4L2pgYMm5f2pvSf_ujiTvA@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

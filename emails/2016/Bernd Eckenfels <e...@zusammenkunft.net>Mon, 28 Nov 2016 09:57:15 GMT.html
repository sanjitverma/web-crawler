<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: Don't overwrite existing artifact - how?</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201611.mbox/%3c3B7A7BDFFD286F49A19A5B35D26E08FB01EA0A45@srvmail2.aurenz.local%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201611.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201611.mbox/%3c6BA0B828-5FE9-4CBB-9E15-3A32B210C27E@honton.org%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201611.mbox/%3c3B7A7BDFFD286F49A19A5B35D26E08FB01EA0A45@srvmail2.aurenz.local%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201611.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201611.mbox/%3c6BA0B828-5FE9-4CBB-9E15-3A32B210C27E@honton.org%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201611.mbox/%3c3B7A7BDFFD286F49A19A5B35D26E08FB01EA0A45@srvmail2.aurenz.local%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201611.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201611.mbox/%3c6BA0B828-5FE9-4CBB-9E15-3A32B210C27E@honton.org%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201611.mbox/%3c3B7A7BDFFD286F49A19A5B35D26E08FB01EA0A45@srvmail2.aurenz.local%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201611.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201611.mbox/%3c6BA0B828-5FE9-4CBB-9E15-3A32B210C27E@honton.org%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Bernd Eckenfels &lt;e...@zusammenkunft.net&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: Don't overwrite existing artifact - how?</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Mon, 28 Nov 2016 09:57:15 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
Hello,
I understand that this is not what you are asking for, but normally you would not allow to
overwrite artifacts in the release repository. This way it cannot happen that a forgotten
version Update overwrites released artifacts.
For snapshot artifacts on the other side you get a new timestamp (which is usually what you
want since otherwise the artifacts might be outdated).
I can understand where you are coming from with your question, but I would keep it simple:
have the developer specify a version when you use the release plugin (via CI server support).
If you are planning to create unique versions for each CI build job, you can do that as well.
In both cases your repo will protect you from overwriting artifacts.

Gruss
Bernd
-- 
http://bernd.eckenfels.net




On Mon, Nov 28, 2016 at 9:11 AM +0100, "Hohl, Gerrit" &lt;g.hohl@aurenz.de&gt; wrote:










Hello everyone, :-)

seems my question was an odd one as I didn't get any replies on it.
So maybe I modify it a little bit:
Is it possible - maybe with an own Maven plugin - to check if an artifact is already in the
remote / central repository of my company?

The goal is the following:

Each check-in into the SCM triggers a build which builds with "install" on the Jenkins build
server.
Except if that version is already in the central Nexus repository of the company.
A manually triggered build on the Jenkins build server will build with "deploy".
Except if that version is already in the central Nexus repository of the company.

This way always the newest version of an artifact would be available for other artifact build
processes which depend on it.
But versions which have been already "released" wouldn't be changed / overwritten.
Otherwise they would change on the build server because someone forgot to change the version
and break other builds on that machine.

Does someone of you know if it is possible to realize something like that with already existing
(and still maintained / developed) plugins?
Or how a programmatically solution could look like? Means does someone know what the Maven
classes for accessing the remote repository are?

Regards,
Gerrit
-----Urspr√ºngliche Nachricht-----
Von: Hohl, Gerrit [mailto:g.hohl@aurenz.de] 
Gesendet: Freitag, 18. November 2016 08:48
An: users@maven.apache.org
Betreff: Don't overwrite existing artifact - how?

Hello everyone, :-)

 

is it somehow possible not to "install" an artifact which already exists in the local repository?

What about artifacts in a remote repository? Is it possible to prevent deployment of such
artifacts?

 

I don't want to have our build server to accidentally install an artifact a second time just
because someone forgot to change the version.

Even if that artifact isn't deployed to the remote repository it will be used on that build
server.

In the maven-install-plugin description there is no option. But who knows...

 

I saw that there is the possibility in Nexus to prevent redeployement for a repository.

Is there also a way within Maven? Or not because Maven says it's the job of the repository
server / service itself.

In the maven-deploy-plugin description there is no option. But who knows...

 

Regards,

Gerrit

 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org







</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li>Unnamed multipart/alternative (inline, None, 0 bytes)</li>
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201611.mbox/raw/%3c57A008FAA9E6E1E3.86C35063-4A19-4135-9058-32C28E354111@mail.outlook.com%3e/1">Unnamed text/plain</a> (inline, Quoted Printable, 3466 bytes)</li>
</ul>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201611.mbox/raw/%3c57A008FAA9E6E1E3.86C35063-4A19-4135-9058-32C28E354111@mail.outlook.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>RE: Maven Compiler Plugin 3.5.1 bug</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201610.mbox/%3ca8ad312d-3240-4d91-a534-bd0b297fcf53@default%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201610.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201610.mbox/%3c6c985ad2-c327-41fc-8c58-165b6b4ef396@default%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201610.mbox/%3ca8ad312d-3240-4d91-a534-bd0b297fcf53@default%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201610.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201610.mbox/%3c6c985ad2-c327-41fc-8c58-165b6b4ef396@default%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201610.mbox/%3ca8ad312d-3240-4d91-a534-bd0b297fcf53@default%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201610.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201610.mbox/%3c6c985ad2-c327-41fc-8c58-165b6b4ef396@default%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201610.mbox/%3ca8ad312d-3240-4d91-a534-bd0b297fcf53@default%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201610.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201610.mbox/%3c6c985ad2-c327-41fc-8c58-165b6b4ef396@default%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Curtis Rueden &lt;ctrue...@wisc.edu&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">RE: Maven Compiler Plugin 3.5.1 bug</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Sat, 22 Oct 2016 22:47:40 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
You can add source directories using the build-helper-maven-plugin.

On Oct 22, 2016 4:39 PM, "Robert Patrick" &lt;robert.patrick@oracle.com&gt; wrote:

&gt; I am using the &lt;resources&gt; section of the POM, not my own plugin, to
&gt; populate some tokens in a Java source file that we use to get build
&gt; information (version, git commit/branch info, build timestamp, etc).
&gt;
&gt;         &lt;resources&gt;
&gt;             &lt;resource&gt;
&gt;                 &lt;directory&gt;src/main/resources/templates&lt;/directory&gt;
&gt;                 &lt;includes&gt;
&gt;                     &lt;include&gt;*.java&lt;/include&gt;
&gt;                 &lt;/includes&gt;
&gt;                 &lt;filtering&gt;true&lt;/filtering&gt;
&gt;                 &lt;targetPath&gt;${project.build.directory}/generated-sources/
&gt; annotations&lt;/targetPath&gt;
&gt;             &lt;/resource&gt;
&gt;           &lt;resources&gt;
&gt;
&gt; The documentation claims that the default value for the
&gt; generatedSourcesDirectory is this directory so you are saying that somehow
&gt; the fact that the maven-compiler-plugin no longer includes the directory in
&gt; the build is a feature?
&gt;
&gt; I looked through the compiler plugin's documentation and couldn't figure
&gt; out a way to add a directory to the build.  I know how to add the directory
&gt; to the build if I write my own plugin but that seems pretty heavy-handed
&gt; for something that should be trivial.  What am I missing?
&gt;
&gt;
&gt; -----Original Message-----
&gt; From: Thomas Broyer [mailto:t.broyer@gmail.com]
&gt; Sent: Saturday, October 22, 2016 4:29 PM
&gt; To: Maven Users List
&gt; Subject: Re: Maven Compiler Plugin 3.5.1 bug
&gt;
&gt; This is not a bug, it's a bug fix! Bug introduced in 3.2, fixed in 3.5.1
&gt; (see release notes for that version).
&gt;
&gt; Your plugin should use its own output directory and add it as a source
&gt; root.
&gt;
&gt; Le sam. 22 oct. 2016 23:18, Robert Patrick &lt;robert.patrick@oracle.com&gt; a
&gt; Ã©crit :
&gt;
&gt; &gt; Periodically, I update the versions of the Maven plugins for my projects.
&gt; &gt; Today was one of those days.  What I found is that the
&gt; &gt; maven-compiler-plugin 3.5.1's compile goal no longer seems to not be
&gt; &gt; including the ${project.build.directory}/generated-sources/annotations
&gt; &gt;
&gt; &gt; directory in the compile.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; My project generates a Java file in the process-resources phase and
&gt; &gt; puts the file in this directory.  Other files in the normal
&gt; &gt; src/main/java location include/depend on this generated file.  When I
&gt; &gt; run my build with 3.5, it works perfectly.  When I run the exact same
&gt; &gt; build with 3.5.1, it fails.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; I logged into my Apache Jira account but the compiler plugin project does
&gt; &gt; not seem to want to let me create an issue for this.   Is there some sort
&gt; &gt; of special permission required to create an issue on the
&gt; &gt; maven-compiler-plugin?
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt; ---------------------------------------------------------------------
&gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt; For additional commands, e-mail: users-help@maven.apache.org
&gt;
&gt;

</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li>Unnamed multipart/alternative (inline, None, 0 bytes)</li>
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201610.mbox/raw/%3cCADN69ykD-vFupkmXizp8-Qws+_RqNyoeLuj-PwQXDA4EN+6Wxg@mail.gmail.com%3e/1">Unnamed text/plain</a> (inline, Quoted Printable, 2953 bytes)</li>
</ul>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201610.mbox/raw/%3cCADN69ykD-vFupkmXizp8-Qws+_RqNyoeLuj-PwQXDA4EN+6Wxg@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

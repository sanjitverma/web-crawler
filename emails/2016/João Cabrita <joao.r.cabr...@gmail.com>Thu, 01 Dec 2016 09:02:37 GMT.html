<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: Structuring bigger Maven projects</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201612.mbox/%3ce3dc1e0d-510d-a55b-d419-6d52cf9c05d1@schulte.it%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201612.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201612.mbox/%3c29eb1cf2-cf9e-2175-b91f-b443a714e2de@schulte.it%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201612.mbox/%3ce3dc1e0d-510d-a55b-d419-6d52cf9c05d1@schulte.it%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201612.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201612.mbox/%3c29eb1cf2-cf9e-2175-b91f-b443a714e2de@schulte.it%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201612.mbox/%3ce3dc1e0d-510d-a55b-d419-6d52cf9c05d1@schulte.it%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201612.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201612.mbox/%3c29eb1cf2-cf9e-2175-b91f-b443a714e2de@schulte.it%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201612.mbox/%3ce3dc1e0d-510d-a55b-d419-6d52cf9c05d1@schulte.it%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201612.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201612.mbox/%3c29eb1cf2-cf9e-2175-b91f-b443a714e2de@schulte.it%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">João Cabrita &lt;joao.r.cabr...@gmail.com&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: Structuring bigger Maven projects</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Thu, 01 Dec 2016 09:02:37 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
Florian,

the use case you're describing is similar to what I'm using at my current
job: we have 3 applications and a bunch of internal libraries that are used
by those applications and, in some cases, applications developed by other
teams in the company.

Each of the applications live in a separate repository but are mult-module
maven projects to make advancing versions in all modules easier (we use the
maven release plugin for this, which isn't all that bad).
The libraries also have a repository each and use the same release process
as applications but, of course, each has its own version.

The way we've found to ease the burden of updating is having update jobs
that run the update goals in the versions maven plugin: those jobs update
the dependency versions, run a SNAPSHOT build to verify that it still
passes and, if it does, pushes the result into an updates branch that is
then reviewed and manually merged.
We use this not only for internal dependencies but external as well and
found it to work well.
The only downside so far is that you have to maintain an exclusions list
because several projects make "fake" releases like RCs and others use
"strange" versioning schemes like "odd minor versions are always unstable",
but this can be managed in a parent POM.

Hope this helps.

João Cabrita

On 1 December 2016 at 04:53, Christian Schulte &lt;cs@schulte.it&gt; wrote:

&gt; Am 11/30/16 um 19:18 schrieb Florian Schätz:
&gt; &gt;&gt; A library project to be
&gt; &gt;&gt; shared between multiple applications each having its own release-cycle
&gt; &gt;&gt; should not be part of a multi-module project used to build such an
&gt; &gt;&gt; application and should be an independent project with its own
&gt; &gt;&gt; release-cycle.
&gt; &gt;
&gt; &gt; While this is of course a good idea, especially when starting to create
&gt; &gt; new applications, the library projects will grow with the applications
&gt; &gt; and not independently of them. We cannot start by first investing months
&gt; &gt; to create the perfect will-work-for-ten-years library and only then
&gt; &gt; start coding the application that will, in the first months, only use
&gt; &gt; 10% of all these features. So, realistically, during a development
&gt; &gt; cycle, both the application and the library will grow... (which doesn't
&gt; &gt; mean that we cannot separate them)
&gt;
&gt; That's what I was referring to with "inheritance vs. aggregation". In a
&gt; multi-module project you get versioning "for free" by using the
&gt; release:prepare release:perform goals. Maintaining the build is not a
&gt; one time task. You adjust things over time until you get things
&gt; structured the way it fits your situation perfectly. To not be trapped
&gt; later, you need to carefully decide the artifact coordinates in use and
&gt; the way versions will be assigned. If a shared library has been part of
&gt; a multi-module project together with an application, extracting it later
&gt; should not have an impact on the rest of the build. It should carry it's
&gt; own version from day one. It should carry it's own coordinate namespace
&gt; from day one. Once in a multi-module project, you will soon start to
&gt; inherit groupId and version. That can lead to having to update each and
&gt; every application POM when extracting that library later. Starting some
&gt; application from scatch today, keep in mind you will re-structure your
&gt; build over time until things have been sorted out. If you know from day
&gt; one that a specific module/project will have it's own release-cycle
&gt; sooner or later, be prepared for that from day one.
&gt;
&gt; Regards,
&gt; --
&gt; Christian
&gt;
&gt;
&gt; ---------------------------------------------------------------------
&gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt; For additional commands, e-mail: users-help@maven.apache.org
&gt;
&gt;

</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li>Unnamed multipart/alternative (inline, None, 0 bytes)</li>
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201612.mbox/raw/%3cCANVgJm+oFiG=O2CnXdjR2u3P2RugsCdtYSZs9ynqC1VkcFOqSg@mail.gmail.com%3e/1">Unnamed text/plain</a> (inline, Quoted Printable, 3721 bytes)</li>
</ul>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201612.mbox/raw/%3cCANVgJm+oFiG=O2CnXdjR2u3P2RugsCdtYSZs9ynqC1VkcFOqSg@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

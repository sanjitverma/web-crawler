<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: Anyone using annotationProcessorPaths in maven-compiler-plugin</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201603.mbox/%3c56F613CE.6020702@artifact-software.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201603.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201603.mbox/%3c5472FA83-B0EC-4A33-AB35-ED48135FF0B8@talios.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201603.mbox/%3cCALYGm1w35VxDcT04uZhWzrbvCp2GD7tJ4S3HAcig=BGU8ywKLg@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201603.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201603.mbox/%3c5472FA83-B0EC-4A33-AB35-ED48135FF0B8@talios.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201603.mbox/%3c56F613CE.6020702@artifact-software.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201603.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201603.mbox/%3c5472FA83-B0EC-4A33-AB35-ED48135FF0B8@talios.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201603.mbox/%3cCALYGm1w35VxDcT04uZhWzrbvCp2GD7tJ4S3HAcig=BGU8ywKLg@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201603.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201603.mbox/%3c5472FA83-B0EC-4A33-AB35-ED48135FF0B8@talios.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Andreas Gudian &lt;andreas.gud...@gmail.com&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: Anyone using annotationProcessorPaths in maven-compiler-plugin</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Sat, 26 Mar 2016 11:28:08 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
Right, in 3.5.1 I fixed an oversight that caused the modules direct
dependencies to also show up in -processorpath.

So anyway, in 3.5.1, it should work just as expected. Are you maybe using a
different plexus-compiler implementation by configuring an
addidtional plugin-dependency?

Here's another example config that does work:
http://mapstruct.org/documentation/1.1/reference/html/index.html#setup

Andreas

Am Samstag, 26. März 2016 schrieb Mark Derricutt :

&gt; This was using 1.8 and the 3.5.1 of the compiler plugin ( which seems to
&gt; have quite major differences in behaviour to 3.5 ), which I think it uses
&gt; the tools api and not calling javac ( I do note theres an option to force
&gt; using javac tho ) so might give that a shot.
&gt;
&gt; --
&gt; "Great artists are extremely selfish and arrogant things" — Steven Wilson,
&gt; Porcupine Tree
&gt;
&gt; On Fri, Mar 25, 2016 at 8:26 PM, Thomas Broyer &lt;t.broyer@gmail.com
&gt; &lt;javascript:;&gt;&gt; wrote:
&gt;
&gt; &gt; Have you set source and target to at least 1.6 or 6?
&gt; &gt; You should see the -processorpath argument being passed to JavaC when
&gt; &gt; running with -X.
&gt; &gt;
&gt; &gt; Le jeu. 24 mars 2016 00:37, Mark Derricutt &lt;mark@talios.com
&gt; &lt;javascript:;&gt;&gt; a écrit :
&gt; &gt;
&gt; &gt; &gt; Hey all,
&gt; &gt; &gt;
&gt; &gt; &gt; Has anyone successfully used the new &lt;annotationProcessorPaths&gt; setting
&gt; &gt; &gt; in the maven-compiler-plugin at all?
&gt; &gt; &gt;
&gt; &gt; &gt; I'm adding:
&gt; &gt; &gt;
&gt; &gt; &gt; &lt;annotationProcessorPaths&gt;
&gt; &gt; &gt;   &lt;path&gt;
&gt; &gt; &gt;     &lt;groupId&gt;com.google.dagger&lt;/groupId&gt;
&gt; &gt; &gt;     &lt;artifactId&gt;dagger-compiler&lt;/artifactId&gt;
&gt; &gt; &gt;     &lt;version&gt;2.1&lt;/version&gt;
&gt; &gt; &gt;   &lt;/path&gt;&lt;/annotationProcessorPaths&gt;
&gt; &gt; &gt;
&gt; &gt; &gt; to my compiler plugins configuration but it doesn't seem to work, when
&gt; &gt; &gt; running maven with -X I see the configuration is picked up, but it
&gt; &gt; doesn't
&gt; &gt; &gt; seem to get passed to the compiler at all?
&gt; &gt; &gt;
&gt; &gt; &gt; [DEBUG] Goal:
&gt; &gt; org.apache.maven.plugins:maven-compiler-plugin:3.5.1:compile
&gt; &gt; (default-compile)
&gt; &gt; &gt; [DEBUG] Style:         Regular
&gt; &gt; &gt; [DEBUG] Configuration: &lt;?xml version="1.0"
&gt; &gt; encoding="UTF-8"?&gt;&lt;configuration&gt;
&gt; &gt; &gt;   &lt;annotationProcessorPaths&gt;
&gt; &gt; &gt;     &lt;path&gt;
&gt; &gt; &gt;       &lt;groupId&gt;com.google.dagger&lt;/groupId&gt;
&gt; &gt; &gt;       &lt;artifactId&gt;dagger-compiler&lt;/artifactId&gt;
&gt; &gt; &gt;       &lt;version&gt;2.1&lt;/version&gt;
&gt; &gt; &gt;     &lt;/path&gt;
&gt; &gt; &gt;   &lt;/annotationProcessorPaths&gt;
&gt; &gt; &gt;   &lt;basedir default-value="${basedir}"/&gt;
&gt; &gt; &gt;   &lt;buildDirectory default-value="${project.build.directory}"/&gt;
&gt; &gt; &gt;   &lt;classpathElements
&gt; &gt; default-value="${project.compileClasspathElements}"/&gt;
&gt; &gt; &gt;   &lt;compileSourceRoots default-value="${project.compileSourceRoots}"/&gt;
&gt; &gt; &gt;   &lt;compilerId
&gt; &gt; default-value="javac"&gt;${maven.compiler.compilerId}&lt;/compilerId&gt;
&gt; &gt; &gt;   &lt;compilerReuseStrategy
&gt; &gt;
&gt; default-value="${reuseCreated}"&gt;${maven.compiler.compilerReuseStrategy}&lt;/compilerReuseStrategy&gt;
&gt; &gt; &gt;   &lt;compilerVersion&gt;${maven.compiler.compilerVersion}&lt;/compilerVersion&gt;
&gt; &gt; &gt;   &lt;debug default-value="true"&gt;${maven.compiler.debug}&lt;/debug&gt;
&gt; &gt; &gt;   &lt;debuglevel&gt;${maven.compiler.debuglevel}&lt;/debuglevel&gt;
&gt; &gt; &gt;   &lt;encoding
&gt; &gt; default-value="${project.build.sourceEncoding}"&gt;${encoding}&lt;/encoding&gt;
&gt; &gt; &gt;   &lt;executable&gt;${maven.compiler.executable}&lt;/executable&gt;
&gt; &gt; &gt;   &lt;failOnError
&gt; &gt; default-value="true"&gt;${maven.compiler.failOnError}&lt;/failOnError&gt;
&gt; &gt; &gt;   &lt;forceJavacCompilerUse
&gt; &gt;
&gt; default-value="false"&gt;${maven.compiler.forceJavacCompilerUse}&lt;/forceJavacCompilerUse&gt;
&gt; &gt; &gt;   &lt;fork default-value="false"&gt;${maven.compiler.fork}&lt;/fork&gt;
&gt; &gt; &gt;   &lt;generatedSourcesDirectory
&gt; &gt;
&gt; default-value="${project.build.directory}/generated-sources/annotations"/&gt;
&gt; &gt; &gt;   &lt;maxmem&gt;${maven.compiler.maxmem}&lt;/maxmem&gt;
&gt; &gt; &gt;   &lt;meminitial&gt;${maven.compiler.meminitial}&lt;/meminitial&gt;
&gt; &gt; &gt;   &lt;mojoExecution default-value="${mojoExecution}"/&gt;
&gt; &gt; &gt;   &lt;optimize default-value="false"&gt;${maven.compiler.optimize}&lt;/optimize&gt;
&gt; &gt; &gt;   &lt;outputDirectory default-value="${project.build.outputDirectory}"/&gt;
&gt; &gt; &gt;   &lt;project default-value="${project}"/&gt;
&gt; &gt; &gt;   &lt;projectArtifact default-value="${project.artifact}"/&gt;
&gt; &gt; &gt;   &lt;session default-value="${session}"/&gt;
&gt; &gt; &gt;   &lt;showDeprecation
&gt; &gt; default-value="false"&gt;${maven.compiler.showDeprecation}&lt;/showDeprecation&gt;
&gt; &gt; &gt;   &lt;showWarnings
&gt; &gt; default-value="false"&gt;${maven.compiler.showWarnings}&lt;/showWarnings&gt;
&gt; &gt; &gt;   &lt;skipMain&gt;${maven.main.skip}&lt;/skipMain&gt;
&gt; &gt; &gt;   &lt;skipMultiThreadWarning
&gt; &gt;
&gt; default-value="false"&gt;${maven.compiler.skipMultiThreadWarning}&lt;/skipMultiThreadWarning&gt;
&gt; &gt; &gt;   &lt;source default-value="1.5"&gt;${maven.compiler.source}&lt;/source&gt;
&gt; &gt; &gt;   &lt;staleMillis default-value="0"&gt;${lastModGranularityMs}&lt;/staleMillis&gt;
&gt; &gt; &gt;   &lt;target default-value="1.5"&gt;${maven.compiler.target}&lt;/target&gt;
&gt; &gt; &gt;   &lt;useIncrementalCompilation
&gt; &gt;
&gt; default-value="true"&gt;${maven.compiler.useIncrementalCompilation}&lt;/useIncrementalCompilation&gt;
&gt; &gt; &gt;   &lt;verbose
&gt; &gt; default-value="false"&gt;${maven.compiler.verbose}&lt;/verbose&gt;&lt;/configuration&gt;
&gt; &gt; &gt;
&gt; &gt; &gt; When running the compiler with &lt;verbose&gt;true&lt;/verbose&gt; I don't
see the
&gt; &gt; &gt; dagger-compiler artefact anywhere on the paths mentioned ( to be
&gt; expected
&gt; &gt; &gt; since it should be on the annotation path not class-path, but we don't
&gt; &gt; &gt; print out the annotation path ).
&gt; &gt; &gt;
&gt; &gt; &gt; Am I missing something simple? Including dagger-compiler as a normal
&gt; &gt; &gt; dependency works fine, but then bleeds into the class path.
&gt; &gt; &gt;
&gt; &gt; &gt; Mark
&gt; &gt; &gt;
&gt; &gt; &gt; --
&gt; &gt; &gt; Mark Derricutt
&gt; &gt; &gt; http://www.theoryinpractice.net
&gt; &gt; &gt; http://www.chaliceofblood.net
&gt; &gt; &gt; http://plus.google.com/+MarkDerricutt
&gt; &gt; &gt; http://twitter.com/talios
&gt; &gt; &gt; http://facebook.com/mderricutt
&gt; &gt; &gt;
&gt; &gt;
&gt;

</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li>Unnamed multipart/alternative (inline, None, 0 bytes)</li>
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201603.mbox/raw/%3cCAK2FUK1gsRFYOV19_UNDzjusW-y71xEEfGvjSKaZZMHSftqV1w@mail.gmail.com%3e/1">Unnamed text/plain</a> (inline, Quoted Printable, 5620 bytes)</li>
</ul>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201603.mbox/raw/%3cCAK2FUK1gsRFYOV19_UNDzjusW-y71xEEfGvjSKaZZMHSftqV1w@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

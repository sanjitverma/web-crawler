<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: [SOLVED] maven-ear-plugin is not including jarModule into application.xml</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201208.mbox/%3c5741B12BCAE2D44294E1D1E4B49B505C2E3EA1@ORD2MBX02D.mex05.mlsrvr.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201208.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201208.mbox/%3c5907012A-062E-4945-8876-9E77193E64AE@rapicault.net%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201208.mbox/%3cE6B6B0C272A4E74385ED136B08FDAF3504C0B152@timail.isys.tracegroup.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201208.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201208.mbox/%3cCAOonohf0vqS0rUS2xXrA4xA07ZH6ZUgBQ=N7+9fnexryEfFqnA@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201208.mbox/%3c5741B12BCAE2D44294E1D1E4B49B505C2E3EA1@ORD2MBX02D.mex05.mlsrvr.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201208.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201208.mbox/%3c5907012A-062E-4945-8876-9E77193E64AE@rapicault.net%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201208.mbox/%3cE6B6B0C272A4E74385ED136B08FDAF3504C0B152@timail.isys.tracegroup.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201208.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201208.mbox/%3cCAOonohf0vqS0rUS2xXrA4xA07ZH6ZUgBQ=N7+9fnexryEfFqnA@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Curtis Rueden &lt;ctrue...@wisc.edu&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: [SOLVED] maven-ear-plugin is not including jarModule into application.xml</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Thu, 23 Aug 2012 16:00:07 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
Hi Stuart,


&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
&gt; &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;


FWIW you can leave off the groupId if it begins with
"org.apache.maven.plugins" and Maven will figure out what you mean. Very
handy since the vast majority of the plugins you typically want to
configure are the core ones from that groupId.

-Curtis


On Thu, Aug 23, 2012 at 10:20 AM, Stuart Stephen &lt;
stuart.stephen@tracegroup.com&gt; wrote:

&gt; I worked it out. I was being an idiot as usual. User error.
&gt;
&gt; Strangely it was producing the EAR file pretty much correctly, even though
&gt; my plugin wasn't configured properly.
&gt;
&gt; I replaced...
&gt;
&gt; &lt;groupId&gt;maven-ear-plugin&lt;/groupId&gt;
&gt; &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;
&gt; with...
&gt;
&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
&gt; &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;
&gt; Then changed...
&gt;
&gt; &lt;includeLibInApplicationXml&gt;true&lt;/includeLibInApplicationXml&gt;
&gt; to...
&gt;
&gt; &lt;includeInApplicationXml&gt;true&lt;/includeInApplicationXml&gt;
&gt;
&gt; Suddenly it did what I asked. Clever that.
&gt;
&gt; -----Original Message-----
&gt; From: Stuart Stephen [mailto:stuart.stephen@tracegroup.com]
&gt; Sent: 23 August 2012 16:01
&gt; To: users@maven.apache.org
&gt; Subject: maven-ear-plugin is not including jarModule into application.xml
&gt;
&gt; Hi,
&gt;
&gt; [This question is also on StackOverflow:
&gt; http://stackoverflow.com/questions/12093346/maven-ear-plugin-is-not-including-jarmodule-into-application-xml
&gt; ]
&gt;
&gt; I've been following the example on the maven-ear-plugin site that [shows
&gt; how to add third-party libraries to the generated application.xml][1].
&gt; However, it does not appear to be working as I expected. Similarly the web
&gt; module [contextRoot][2] is being ignored.
&gt;
&gt; According to the [documentation][3] what I am trying to do should be
&gt; entirely possible.
&gt;
&gt; The context root of a Web module might be customized using the contextRoot
&gt; parameter.
&gt; Please note that third party libraries (i.e. JarModule) are not included
&gt; in the generated application.xml (only ejb-client should be included in a
&gt; java entry). However, a jar dependency could be included in the generated
&gt; application.xml by specifying the includeInApplicationXml flag.
&gt;
&gt; I have the following output when it executes the build in my
&gt; application.xml.
&gt;
&gt; &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&gt; &lt;!DOCTYPE application PUBLIC
&gt;     "-//Sun Microsystems, Inc.//DTD J2EE Application 1.3//EN"
&gt;     "http://java.sun.com/dtd/application_1_3.dtd"&gt;
&gt; &lt;application&gt;
&gt;   &lt;display-name&gt;MyApp.EAR&lt;/display-name&gt;
&gt;   &lt;module&gt;
&gt;     &lt;ejb&gt;MyApp.jar&lt;/ejb&gt;
&gt;   &lt;/module&gt;
&gt;   &lt;module&gt;
&gt;     &lt;web&gt;
&gt;       &lt;web-uri&gt;MyApp.war&lt;/web-uri&gt;
&gt;       &lt;context-root&gt;/MyApp.Web&lt;/context-root&gt;
&gt;     &lt;/web&gt;
&gt;   &lt;/module&gt;
&gt; &lt;/application&gt;
&gt;
&gt; From the following maven configuraton (pom.xml).
&gt; ...
&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
&gt; &lt;groupId&gt;com.blah&lt;/groupId&gt;
&gt; &lt;artifactId&gt;MyApp.EAR&lt;/artifactId&gt;
&gt; &lt;version&gt;1.0&lt;/version&gt;
&gt; &lt;packaging&gt;ear&lt;/packaging&gt;
&gt;
&gt; &lt;build&gt;
&gt;     &lt;plugins&gt;
&gt;         &lt;plugin&gt;
&gt;             &lt;groupId&gt;maven-ear-plugin&lt;/groupId&gt;
&gt;             &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;
&gt;             &lt;version&gt;2.7&lt;/version&gt;
&gt;             &lt;configuration&gt;
&gt;                 &lt;applicationName&gt;MyApp&lt;/applicationName&gt;
&gt;                 &lt;modules&gt;
&gt;                     &lt;ejbModule&gt;
&gt;                         &lt;groupId&gt;com.blah&lt;/groupId&gt;
&gt;                         &lt;artifactId&gt;MyApp.EJB&lt;/artifactId&gt;
&gt;                     &lt;/ejbModule&gt;
&gt;                     &lt;webModule&gt;
&gt;                         &lt;groupId&gt;com.blah&lt;/groupId&gt;
&gt;                         &lt;artifactId&gt;MyApp.Web&lt;/artifactId&gt;
&gt;                         &lt;contextRoot&gt;MyApp&lt;/contextRoot&gt;
&gt;                     &lt;/webModule&gt;
&gt;                     &lt;jarModule&gt;
&gt;                         &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
&gt;                         &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;
&gt;
&gt; &lt;includeLibInApplicationXml&gt;true&lt;/includeLibInApplicationXml&gt;
&gt;                     &lt;/jarModule&gt;
&gt;                 &lt;/modules&gt;
&gt;                 &lt;archive&gt;
&gt;                     &lt;manifestEntries&gt;
&gt;
&gt; &lt;WebLogic-Application-Version&gt;${weblogic.version}&lt;/WebLogic-Application-Version&gt;
&gt;                     &lt;/manifestEntries&gt;
&gt;                 &lt;/archive&gt;
&gt;             &lt;/configuration&gt;
&gt;         &lt;/plugin&gt;
&gt;     &lt;/plugins&gt;
&gt; &lt;/build&gt;
&gt;
&gt; &lt;dependencies&gt;
&gt;     &lt;!-- web and ejb modules --&gt;
&gt;     &lt;dependency&gt;
&gt;         &lt;groupId&gt;com.blah&lt;/groupId&gt;
&gt;         &lt;artifactId&gt;MyApp.EJB&lt;/artifactId&gt;
&gt;         &lt;version&gt;1.0&lt;/version&gt;
&gt;         &lt;type&gt;ejb&lt;/type&gt;
&gt;     &lt;/dependency&gt;
&gt;     &lt;dependency&gt;
&gt;         &lt;groupId&gt;com.blah&lt;/groupId&gt;
&gt;         &lt;artifactId&gt;MyApp.Web&lt;/artifactId&gt;
&gt;         &lt;version&gt;1.0&lt;/version&gt;
&gt;         &lt;type&gt;war&lt;/type&gt;
&gt;     &lt;/dependency&gt;
&gt; &lt;/dependencies&gt;
&gt; ...
&gt;
&gt; It is immediately obvious that the application.xml is not being generated
&gt; as I intended.
&gt; 1. The contextRoot supplied is not correct in the application.xml, instead
&gt; the default name of MyApp.Web is output instead of the specified MyApp.
&gt; 2. The org.slf4j jarModule specified is missing entirely from the
&gt; application.xml.
&gt; What am I doing wrong?
&gt; Debug from Maven is shown below.
&gt;
&gt; [DEBUG]
&gt; -----------------------------------------------------------------------
&gt; [DEBUG] Goal:
&gt;  org.apache.maven.plugins:maven-ear-plugin:2.4.2:generate-application-xml
&gt; (default-generate-application-xml)
&gt; [DEBUG] Style:         Regular
&gt; [DEBUG] Configuration: &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&gt; &lt;configuration&gt;
&gt;   &lt;description&gt;${project.description}&lt;/description&gt;
&gt;   &lt;displayName&gt;${project.artifactId}&lt;/displayName&gt;
&gt;   &lt;encoding default-value="UTF-8"/&gt;
&gt;
&gt; &lt;generatedDescriptorLocation&gt;${project.build.directory}&lt;/generatedDescriptorLocation&gt;
&gt;   &lt;includeLibInApplicationXml default-value="false"/&gt;
&gt;   &lt;project&gt;${project}&lt;/project&gt;
&gt;   &lt;version default-value="1.3"/&gt;
&gt;
&gt; &lt;workDirectory&gt;${project.build.directory}/${project.build.finalName}&lt;/workDirectory&gt;
&gt; &lt;/configuration&gt;
&gt;
&gt;   [1]:
&gt; http://maven.apache.org/plugins/maven-ear-plugin/examples/including-a-third-party-library-in-application-xml.html
&gt;   [2]:
&gt; http://maven.apache.org/plugins/maven-ear-plugin/modules.html#webModule
&gt;   [3]:
&gt; http://maven.apache.org/plugins/maven-ear-plugin/usage.html#Advanced_ConfigurationDisclaimer
&gt; :
&gt;
&gt; The contents of this E-mail plus any attachment is intended for the use of
&gt; the addressee only and is confidential, proprietary and may be privileged.
&gt; It will not be binding upon Trace Group or any group company (Trace).
&gt;  Opinions, conclusions, contractual obligations and other information in
&gt; this message in so far as they relate to the official business of Trace
&gt; must be specifically confirmed in writing by Trace. If you are not the
&gt; intended recipient you must not copy this message or attachment, use or
&gt; disclose the contents to any other person, but are requested to telephone
&gt; or E-mail the sender and delete the message and any attachment from your
&gt; system. Trace takes all reasonable precautions to ensure that no virus or
&gt; defect is transmitted via this e mail, however Trace accepts no
&gt; responsibility for any virus or defect that might arise from opening this
&gt; E-mail or attachments.
&gt;
&gt;
&gt; ---------------------------------------------------------------------
&gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt; For additional commands, e-mail: users-help@maven.apache.orgDisclaimer:
&gt;
&gt; The contents of this E-mail plus any attachment is intended for the use of
&gt; the
&gt; addressee only and is confidential, proprietary and may be privileged. It
&gt; will not be
&gt; binding upon Trace Group or any group company (Trace).  Opinions,
&gt; conclusions,
&gt; contractual obligations and other information in this message in so far as
&gt; they relate to
&gt; the official business of Trace must be specifically confirmed in writing
&gt; by Trace. If you
&gt; are not the intended recipient you must not copy this message or
&gt; attachment, use or
&gt; disclose the contents to any other person, but are requested to telephone
&gt; or E-mail
&gt; the sender and delete the message and any attachment from your system.
&gt; Trace
&gt; takes all reasonable precautions to ensure that no virus or defect is
&gt; transmitted via
&gt; this e mail, however Trace accepts no responsibility for any virus or
&gt; defect that might
&gt; arise from opening this E-mail or attachments.
&gt;
&gt;
&gt; ---------------------------------------------------------------------
&gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt; For additional commands, e-mail: users-help@maven.apache.org
&gt;
&gt;

</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li>Unnamed multipart/alternative (inline, None, 0 bytes)</li>
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201208.mbox/raw/%3cCADN69ymvnUpDW6y3mjwy=Ye7Kba+1VyXubY=mHxcGvJYzq1FNw@mail.gmail.com%3e/1">Unnamed text/plain</a> (inline, None, 8472 bytes)</li>
</ul>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201208.mbox/raw/%3cCADN69ymvnUpDW6y3mjwy=Ye7Kba+1VyXubY=mHxcGvJYzq1FNw@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

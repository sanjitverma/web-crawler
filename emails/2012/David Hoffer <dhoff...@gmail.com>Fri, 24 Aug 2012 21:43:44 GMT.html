<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: Maven/Nexus metadata interaction question</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201208.mbox/%3cCAHNdxukrb_YQYLst20zHU=e1bjDan+upKPLE9LF_mEVkTUBExQ@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201208.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201208.mbox/%3cCAMk_BejCh7GBA76-zwXFyk72Awq7P9_TyZzs9WMU+YV+1Fz7MQ@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201208.mbox/%3cCAHNdxukrb_YQYLst20zHU=e1bjDan+upKPLE9LF_mEVkTUBExQ@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201208.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201208.mbox/%3cCAMk_Bejpr5kded_vu6gRa63m-CQ5W_Zsr=M75dqx+ckZcA=GCA@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201208.mbox/%3cCAHNdxukrb_YQYLst20zHU=e1bjDan+upKPLE9LF_mEVkTUBExQ@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201208.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201208.mbox/%3cCAMk_BejCh7GBA76-zwXFyk72Awq7P9_TyZzs9WMU+YV+1Fz7MQ@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201208.mbox/%3cCAHNdxukrb_YQYLst20zHU=e1bjDan+upKPLE9LF_mEVkTUBExQ@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201208.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201208.mbox/%3cCAMk_Bejpr5kded_vu6gRa63m-CQ5W_Zsr=M75dqx+ckZcA=GCA@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">David Hoffer &lt;dhoff...@gmail.com&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: Maven/Nexus metadata interaction question</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Fri, 24 Aug 2012 21:43:44 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
I can't say the whole problem is with Nexus.  I can say that the
requirement in Maven3 to always use timestamped snapshots has not be
addressed in a complete way with tools like Nexus and my beloved IDE
IntelliJ.  We have hundreds if not thousands of builds happening every
day and they should be able to generate artifacts with various
classifiers, i.e. sources.jar and javadoc.jar, etc.  But they don't
all have to generate all of these classifiers with each build.  I
might want to generate javadocs just at night because the build takes
too long, etc.  Well this completely breaks Nexus and IntelliJ because
Nexus will spit out a metadata file that says that the last
timestamped build is, lets say 45, well that might be true for one of
the artifacts, lets say it was javadocs, but 45 does not yet have
sources or the main jar artifact (the latest for those is 44).
However since Nexus advertised that build 45 is the latest, all the
tools, i.e. IntelliJ go looking for artifacts for that build number
and they do not exist.  So the only workaround for that is that all
builds must include all classifiers...can't do just the one we
need/want.

I don't know if the same problem exists with Artifactory...all I can
say is that I have not seen these types of errors using that repo
manager.

Then there is the local repo size problem with timestamped
snapshots...my hard drive is just not big enough for that.
Timestamped snapshots is a solution to a problem I've never seen.  I
expect snapshots to change so never want to be wed to a particular
one.

-Dave

On Fri, Aug 24, 2012 at 3:27 PM, Laird Nelson &lt;ljnelson@gmail.com&gt; wrote:
&gt; On Fri, Aug 24, 2012 at 1:52 PM, David Hoffer &lt;dhoffer6@gmail.com&gt; wrote:
&gt;
&gt;&gt; We have been having nothing but trouble with Nexus and
&gt;&gt; Maven3 with the time-stamped snapshots and all the various metadata
&gt;&gt; files that Nexus spits out (which confuse Maven and IDEs).
&gt;
&gt;
&gt; Oh, so this whole thing is a Nexus problem?  Is that why none of my
&gt; maven-metadata.xml files in my SNAPSHOT directories in my Nexus repository
&gt; feature a &lt;latest&gt; tag (mind you, I'm guessing in the dark here about what
&gt; this tag is for, and also guessing that it is used in resolving SNAPSHOTs)?
&gt;  Am I wrong in thinking that these files *should* feature such a tag if
&gt; they are to be useful at all?  Where would I go to learn more information
&gt; about this?
&gt;
&gt; It certainly seems to be the case from others I've talked to that the
&gt; "solution" is "redeploy another SNAPSHOT; that's the only way to get rid of
&gt; this, and we don't know why it happens either".  Surely that can't be the
&gt; case.  Surely there's some way to convince Maven to figure out what the
&gt; latest SNAPSHOT is in a directory?  Or to otherwise help it correct its
&gt; mistaken belief that there are *no* *possible* snapshot resolutions?  Is
&gt; this a rare problem?
&gt;
&gt; Thanks for the input, David.
&gt;
&gt; Thanks,
&gt; Laird
&gt;
&gt; --
&gt; http://about.me/lairdnelson

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201208.mbox/raw/%3cCAA8BW8GmkAhfmr6Xs3sjZHtVr_1OV2tZ9ypapOMa2JcjptzNOw@mail.gmail.com%3e/">Unnamed text/plain</a> (inline, None, 3132 bytes)</li>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201208.mbox/raw/%3cCAA8BW8GmkAhfmr6Xs3sjZHtVr_1OV2tZ9ypapOMa2JcjptzNOw@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

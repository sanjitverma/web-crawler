<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: Maven site build errors</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201212.mbox/%3c50C0EEF7.5030301@artifact-software.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201212.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201212.mbox/%3c1533396.uaHhM397Rl@bigmax%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201212.mbox/%3c1396645.vkpQUvOtFI@bigmax%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201212.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201212.mbox/%3c1533396.uaHhM397Rl@bigmax%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201212.mbox/%3c50C0EEF7.5030301@artifact-software.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201212.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201212.mbox/%3c1533396.uaHhM397Rl@bigmax%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201212.mbox/%3c1396645.vkpQUvOtFI@bigmax%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201212.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201212.mbox/%3c1533396.uaHhM397Rl@bigmax%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">David Hoffer &lt;dhoff...@gmail.com&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: Maven site build errors</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Thu, 06 Dec 2012 20:26:34 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
Sure here is the build log from the site build (regular build works).

[ERROR] Failed to execute goal
org.apache.maven.plugins:maven-site-plugin:3.2:site (default-cli) on
project stand-alone: failed to get report for
org.apache.maven.plugins:maven-surefire-report-plugin: Failed to
execute goal org.apache.maven.plugins:maven-dependency-plugin:2.4:copy-dependencies
(copy-dependencies) on project stand-alone: Error copying artifact
from C:\svn\chat-dashboard\trunk\dashboard-core\target\classes to
C:\svn\chat-dashboard\trunk\stand-alone\target\stand-alone-4.4-SNAPSHOT\packages\dashboard-core-4.4-SNAPSHOT.jar:
C:\svn\chat-dashboard\trunk\dashboard-core\target\classes (Access is
denied) -&gt; [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to
execute goal org.apache.maven.plugins:maven-site-plugin:3.2:site
(default-cli) on project stand-alone: failed to get report for
org.apache.maven.plugins:maven-surefire-report-plugin
at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:217)
at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)
at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:601)
at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)
Caused by: org.apache.maven.plugin.MojoExecutionException: failed to
get report for org.apache.maven.plugins:maven-surefire-report-plugin
at org.apache.maven.reporting.exec.DefaultMavenReportExecutor.buildMavenReports(DefaultMavenReportExecutor.java:156)
at org.apache.maven.plugins.site.AbstractSiteRenderingMojo.getReports(AbstractSiteRenderingMojo.java:235)
at org.apache.maven.plugins.site.SiteMojo.execute(SiteMojo.java:121)
at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
... 19 more
Caused by: org.apache.maven.lifecycle.LifecycleExecutionException:
Failed to execute goal
org.apache.maven.plugins:maven-dependency-plugin:2.4:copy-dependencies
(copy-dependencies) on project stand-alone: Error copying artifact
from C:\svn\chat-dashboard\trunk\dashboard-core\target\classes to
C:\svn\chat-dashboard\trunk\stand-alone\target\stand-alone-4.4-SNAPSHOT\packages\dashboard-core-4.4-SNAPSHOT.jar
at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:217)
at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
at org.apache.maven.lifecycle.internal.MojoExecutor.executeForkedExecutions(MojoExecutor.java:365)
at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeForkedExecutions(DefaultLifecycleExecutor.java:173)
at org.apache.maven.reporting.exec.DefaultMavenReportExecutor.buildReportPlugin(DefaultMavenReportExecutor.java:284)
at org.apache.maven.reporting.exec.DefaultMavenReportExecutor.buildMavenReports(DefaultMavenReportExecutor.java:150)
... 23 more
Caused by: org.apache.maven.plugin.MojoExecutionException: Error
copying artifact from
C:\svn\chat-dashboard\trunk\dashboard-core\target\classes to
C:\svn\chat-dashboard\trunk\stand-alone\target\stand-alone-4.4-SNAPSHOT\packages\dashboard-core-4.4-SNAPSHOT.jar
at org.apache.maven.plugin.dependency.AbstractDependencyMojo.copyFile(AbstractDependencyMojo.java:197)
at org.apache.maven.plugin.dependency.CopyDependenciesMojo.copyArtifact(CopyDependenciesMojo.java:197)
at org.apache.maven.plugin.dependency.CopyDependenciesMojo.execute(CopyDependenciesMojo.java:89)
at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
... 29 more
Caused by: java.io.FileNotFoundException:
C:\svn\chat-dashboard\trunk\dashboard-core\target\classes (Access is
denied)
at java.io.FileInputStream.open(Native Method)
at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)
at org.codehaus.plexus.util.io.FileInputStreamFacade.getInputStream(FileInputStreamFacade.java:36)
at org.codehaus.plexus.util.FileUtils.copyStreamToFile(FileUtils.java:1141)
at org.codehaus.plexus.util.FileUtils.copyFile(FileUtils.java:1048)
at org.apache.maven.plugin.dependency.AbstractDependencyMojo.copyFile(AbstractDependencyMojo.java:192)
... 33 more
[ERROR]


I see several lines in here that seem wrong to me.
1. Caused by: org.apache.maven.lifecycle.LifecycleExecutionException:
Failed to execute goal
org.apache.maven.plugins:maven-dependency-plugin:2.4:copy-dependencies
(copy-dependencies) on project stand-alone: Error copying artifact
from C:\svn\chat-dashboard\trunk\dashboard-core\target\classes to
C:\svn\chat-dashboard\trunk\stand-alone\target\stand-alone-4.4-SNAPSHOT\packages\dashboard-core-4.4-SNAPSHOT.jar

Why is copying from classes?  And why is it copying to jar (or is that
just one of the files it is copying to the packages folder)?  My pom
for this part is defined as:

&lt;execution&gt;
                        &lt;id&gt;copy-dependencies&lt;/id&gt;
                        &lt;phase&gt;generate-resources&lt;/phase&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;includeScope&gt;runtime&lt;/includeScope&gt;

&lt;outputDirectory&gt;${project.build.directory}/${project.build.finalName}/packages&lt;/outputDirectory&gt;
                            &lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;
                            &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;
                            &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;

2. Caused by: java.io.FileNotFoundException:
C:\svn\chat-dashboard\trunk\dashboard-core\target\classes (Access is
denied)

It looks like its trying to find a file in this folder so it can copy
it.  This folder does exist.  It contains a folder structure of class
files, so at that top folder it just contains a folder.  But why is it
copying from here?  This folder does not contain the application's
dependencies.  That module's artifact is at
C:\svn\chat-dashboard\trunk\dashboard-core\target\dashboard-core-4.4-SNAPSHOT.jar
so it should copy that and all others to
${project.build.directory}/${project.build.finalName}/packages which
it does seem to do.  This error seems to be after it does the right
thing with this goal.

3. [ERROR] Failed to execute goal
org.apache.maven.plugins:maven-site-plugin:3.2:site (default-cli) on
project stand-alone: failed to get report for
org.apache.maven.plugins:maven-surefire-report-plugin: Failed to
execute goal org.apache.maven.plugins:maven-dependency-plugin:2.4:copy-dependencies
(copy-dependencies) on project stand-alone:

That first line in the log indicates that the error is caused by the
maven-surefire-report-plugin.  Failed to get report.  So is it
possible that...that plugin is re-executing the copy-dependencies goal
and is doing so in an invalid manor?

-Dave










On Thu, Dec 6, 2012 at 11:06 AM, Hervé BOUTEMY &lt;herve.boutemy@free.fr&gt; wrote:
&gt; if you run with mvn -X and give us the full stack trace, perhaps we can see
&gt; what's going wrong
&gt;
&gt; Le jeudi 6 décembre 2012 06:34:52 David Hoffer a écrit :
&gt;&gt; Note that the copy-dependencies goal in the stand-alone module is not
&gt;&gt; really relevant/useful in the site build.  Rather it's a key part of
&gt;&gt; the regular...clean, install, release phases...that module just copies
&gt;&gt; artifacts and builds an aggregate artifact (i.e. it does not have
&gt;&gt; source code).  But I'm not aware of how to 'turn-off' things like this
&gt;&gt; just for the site build.
&gt;&gt;
&gt;&gt; On Thu, Dec 6, 2012 at 6:22 AM, David Hoffer &lt;dhoffer6@gmail.com&gt; wrote:
&gt;&gt; &gt; This happens if I build locally and when built with our CI build
&gt;&gt; &gt; server.  When I build locally it will use disk C and the disk is not
&gt;&gt; &gt; full.  These folders are just the normal maven build folders so if
&gt;&gt; &gt; there is something using the file...it's a Maven process.
&gt;&gt; &gt;
&gt;&gt; &gt; We are using Maven3...perhaps the site build spawns other processes
&gt;&gt; &gt; and there is a conflict between them?
&gt;&gt; &gt;
&gt;&gt; &gt; On Thu, Dec 6, 2012 at 5:53 AM, Adrien Rivard &lt;adrien.rivard@gmail.com&gt;
&gt; wrote:
&gt;&gt; &gt;&gt; Most probably, it means that one of the file is used by another
&gt;&gt; &gt;&gt; application, thus cannot be deleted.
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; On Thu, Dec 6, 2012 at 1:47 PM, David Hoffer &lt;dhoffer6@gmail.com&gt;
wrote:
&gt;&gt; &gt;&gt;&gt; Those last two lines make no sense to me as this happens on systems
&gt;&gt; &gt;&gt;&gt; with Admin/root permissions.  There doesn't seem to be any way this
&gt;&gt; &gt;&gt;&gt; can be a permissions issue, so I assume that's an incorrect/misleading
&gt;&gt; &gt;&gt;&gt; message.
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; -Dave
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; On Wed, Dec 5, 2012 at 11:23 PM, Hervé BOUTEMY &lt;herve.boutemy@free.fr&gt;
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; wrote:
&gt;&gt; &gt;&gt;&gt; &gt; please read the last two lines
&gt;&gt; &gt;&gt;&gt; &gt;
&gt;&gt; &gt;&gt;&gt; &gt;&gt; F:\work\7832e3bc4d2f257b\dashboard-core\target\classes (Access
is
&gt;&gt; &gt;&gt;&gt; &gt;&gt; denied)
&gt;&gt; &gt;&gt;&gt; &gt;
&gt;&gt; &gt;&gt;&gt; &gt; Le mercredi 5 décembre 2012 15:00:24 David Hoffer a écrit :
&gt;&gt; &gt;&gt;&gt; &gt;&gt; I have a multi-module maven build and can't get the site build
to
&gt;&gt; &gt;&gt;&gt; &gt;&gt; work.  It's currently failing with this error.  The module
its
&gt;&gt; &gt;&gt;&gt; &gt;&gt; failing
&gt;&gt; &gt;&gt;&gt; &gt;&gt; on, stand-alone, doesn't have any code just packages assemblies,
etc.
&gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;&gt; &gt;&gt; Any ideas what is causing this?
&gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;&gt; &gt;&gt; Failed to execute goal
&gt;&gt; &gt;&gt;&gt; &gt;&gt; org.apache.maven.plugins:maven-site-plugin:3.2:site (default-site)
on
&gt;&gt; &gt;&gt;&gt; &gt;&gt; project stand-alone: failed to get report for
&gt;&gt; &gt;&gt;&gt; &gt;&gt; org.apache.maven.plugins:maven-surefire-report-plugin
&gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;&gt; &gt;&gt; [ERROR] Failed to execute goal
&gt;&gt; &gt;&gt;&gt; &gt;&gt; org.apache.maven.plugins:maven-site-plugin:3.2:site (default-site)
on
&gt;&gt; &gt;&gt;&gt; &gt;&gt; project stand-alone: failed to get report for
&gt;&gt; &gt;&gt;&gt; &gt;&gt; org.apache.maven.plugins:maven-surefire-report-plugin: Failed
to
&gt;&gt; &gt;&gt;&gt; &gt;&gt; execute goal
&gt;&gt; &gt;&gt;&gt; &gt;&gt; org.apache.maven.plugins:maven-dependency-plugin:2.4:copy-dependencie
&gt;&gt; &gt;&gt;&gt; &gt;&gt; s
&gt;&gt; &gt;&gt;&gt; &gt;&gt; (copy-dependencies) on project stand-alone: Error copying artifact
&gt;&gt; &gt;&gt;&gt; &gt;&gt; from
&gt;&gt; &gt;&gt;&gt; &gt;&gt; F:\work\7832e3bc4d2f257b\dashboard-core\target\classes to
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; F:\work\7832e3bc4d2f257b\stand-alone\target\stand-alone-4.4-SNAPSHOT\pac
&gt;&gt; &gt;&gt;&gt; kage&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; &gt;&gt; s\dashboard-core-4.4-SNAPSHOT.jar:
&gt;&gt; &gt;&gt;&gt; &gt;&gt; F:\work\7832e3bc4d2f257b\dashboard-core\target\classes (Access
is
&gt;&gt; &gt;&gt;&gt; &gt;&gt; denied) -&gt; [Help 1]
&gt;&gt; &gt;&gt;&gt; &gt;&gt; [13:52:12]
&gt;&gt; &gt;&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;&gt; &gt;&gt; ---------------------------------------------------------------------
&gt;&gt; &gt;&gt;&gt; &gt;&gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt;&gt; &gt;&gt;&gt; &gt;&gt; For additional commands, e-mail: users-help@maven.apache.org
&gt;&gt; &gt;&gt;&gt; &gt;
&gt;&gt; &gt;&gt;&gt; &gt; ---------------------------------------------------------------------
&gt;&gt; &gt;&gt;&gt; &gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt;&gt; &gt;&gt;&gt; &gt; For additional commands, e-mail: users-help@maven.apache.org
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; ---------------------------------------------------------------------
&gt;&gt; &gt;&gt;&gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt;&gt; &gt;&gt;&gt; For additional commands, e-mail: users-help@maven.apache.org
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; --
&gt;&gt; &gt;&gt; Adrien Rivard
&gt;&gt; &gt;&gt; 06 63 08 79 74
&gt;&gt;
&gt;&gt; ---------------------------------------------------------------------
&gt;&gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt;&gt; For additional commands, e-mail: users-help@maven.apache.org
&gt;
&gt; ---------------------------------------------------------------------
&gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt; For additional commands, e-mail: users-help@maven.apache.org
&gt;

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201212.mbox/raw/%3cCAA8BW8FrzCBdqmB=ZATfFD46xmnbGfE90t5H2EAtSMDbCvPFmw@mail.gmail.com%3e/">Unnamed text/plain</a> (inline, Quoted Printable, 13130 bytes)</li>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201212.mbox/raw/%3cCAA8BW8FrzCBdqmB=ZATfFD46xmnbGfE90t5H2EAtSMDbCvPFmw@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

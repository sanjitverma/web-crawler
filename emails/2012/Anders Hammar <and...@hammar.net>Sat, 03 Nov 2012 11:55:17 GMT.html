<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: How to configure a profile to NOT upload build aritfact to a repository?</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201211.mbox/%3cCAPoyBqRuR1jR=nuZmmausCON6dLDJ5Xcn_WSr5brAROjVkzfCA@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201211.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201211.mbox/%3cBLU0-SMTP27935FBD8E40C0B8985D60CD660@phx.gbl%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201211.mbox/%3cCAPoyBqRuR1jR=nuZmmausCON6dLDJ5Xcn_WSr5brAROjVkzfCA@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201211.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201211.mbox/%3cCAJZRQKwuZj9=9Uj9qxMouyTnoEZh+c2zYcfai-PHO8WgSCnOew@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201211.mbox/%3cCAPoyBqRuR1jR=nuZmmausCON6dLDJ5Xcn_WSr5brAROjVkzfCA@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201211.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201211.mbox/%3cBLU0-SMTP27935FBD8E40C0B8985D60CD660@phx.gbl%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201211.mbox/%3cCAPoyBqRuR1jR=nuZmmausCON6dLDJ5Xcn_WSr5brAROjVkzfCA@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201211.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201211.mbox/%3cCAJZRQKwuZj9=9Uj9qxMouyTnoEZh+c2zYcfai-PHO8WgSCnOew@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Anders Hammar &lt;and...@hammar.net&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: How to configure a profile to NOT upload build aritfact to a repository?</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Sat, 03 Nov 2012 11:55:17 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
&gt; deploy plugin has a skip option [1]
&gt; So add this option in a profile ?
&gt;

I'd say the only use case for the skip param would be if you have some
Maven project the should NEVER upload it's artifact. Then you could
configure this so that it will not be uploaded even if "mvn deploy"
 is executed. But it should then not be in a profile.

But if you have a project that normally should upload it's artifact and you
have some scenario where it shouldn't (like one of your CI build jobs),
then you should just do "mvn install" in that case. A profile using skip
brings no advantage but is just a step away from Maven conventions IMO.

/Anders


&gt;
&gt; HTH,
&gt; --
&gt; Olivier
&gt; [1] http://maven.apache.org/plugins/maven-deploy-plugin/faq.html#skip
&gt;
&gt; 2012/11/3 Anders Hammar &lt;anders@hammar.net&gt;:
&gt; &gt; As Berrie explained, the correct solution here is to just do a "mvn
&gt; &gt; install" build in this case. Starting to use profiles is not the
&gt; solution.
&gt; &gt; It (almost) never is.
&gt; &gt;
&gt; &gt; /Anders
&gt; &gt;
&gt; &gt; On Sat, Nov 3, 2012 at 10:22 AM, Barrie Treloar &lt;baerrach@gmail.com&gt;
&gt; wrote:
&gt; &gt;
&gt; &gt;&gt; On Sat, Nov 3, 2012 at 2:35 AM, &lt;carlos.a.de.la.paz@accenture.com&gt;
&gt; wrote:
&gt; &gt;&gt;
&gt; &gt;&gt; &gt; Greetings,
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; I have a project that builds and then artifacts are automatically
&gt; &gt;&gt; uploaded
&gt; &gt;&gt; &gt; to our Nexus repository.  I have a special case where I need the code
&gt; to
&gt; &gt;&gt; &gt; build but I don't want the artifacts to be uploaded.
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; I set up a profile for the special case.  However it is still trying
&gt; to
&gt; &gt;&gt; &gt; upload because it is inheriting the &lt;distributionManagement&gt;
&gt; attributes
&gt; &gt;&gt; &gt; from the parent.
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; How can I tell this profile to NOT upload to the Nexus repo?  I tried
&gt; &gt;&gt; &gt; putting dummy data under a &lt;distributionManagement&gt; tag inside the
&gt; &gt;&gt; profile
&gt; &gt;&gt; &gt; but that is causing the builds to fail.
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; Thanks,
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; Carlos
&gt; &gt;&gt; &gt;
&gt; &gt;&gt;
&gt; &gt;&gt; What command are you using?
&gt; &gt;&gt;
&gt; &gt;&gt; mvn install
&gt; &gt;&gt; does everything locally, does not upload anything.
&gt; &gt;&gt;
&gt; &gt;&gt; mvn deploy
&gt; &gt;&gt; does everything that "mvn install" does, plus uploads to
&gt; &gt;&gt; distributionManagement.
&gt; &gt;&gt;
&gt; &gt;&gt; mvn release:perform
&gt; &gt;&gt; Automated some of the steps that you should be doing if you were to
&gt; &gt;&gt; manually run "mvn deploy".
&gt; &gt;&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; Olivier Lamy
&gt; Talend: http://coders.talend.com
&gt; http://twitter.com/olamy | http://linkedin.com/in/olamy
&gt;
&gt; ---------------------------------------------------------------------
&gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt; For additional commands, e-mail: users-help@maven.apache.org
&gt;
&gt;

</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li>Unnamed multipart/alternative (inline, None, 0 bytes)</li>
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201211.mbox/raw/%3cCAKDUN1uxqSHBYMuWARyXE3GomN4b2SMu7bVsPAyxiBE2KpboAQ@mail.gmail.com%3e/1">Unnamed text/plain</a> (inline, None, 2564 bytes)</li>
</ul>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201211.mbox/raw/%3cCAKDUN1uxqSHBYMuWARyXE3GomN4b2SMu7bVsPAyxiBE2KpboAQ@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: How to tell EAR packager to use the exact names created by &lt;addClasspath&gt;true&lt;/addClasspath&gt;?</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201203.mbox/%3c1332015897403-5574228.post@n5.nabble.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201203.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201203.mbox/%3cBLU142-W366D95F07437935F1F9E66AE5D0@phx.gbl%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201203.mbox/%3c009501cd044b$409b4bb0$c1d1e310$@eu%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201203.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201203.mbox/%3cOF3051965C.28C4FA41-ONC12579BF.0046F901-C12579BF.0047AAA7@bnpparibas.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201203.mbox/%3c1332015897403-5574228.post@n5.nabble.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201203.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201203.mbox/%3cBLU142-W366D95F07437935F1F9E66AE5D0@phx.gbl%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201203.mbox/%3c009501cd044b$409b4bb0$c1d1e310$@eu%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201203.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201203.mbox/%3cOF3051965C.28C4FA41-ONC12579BF.0046F901-C12579BF.0047AAA7@bnpparibas.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Anders Hammar &lt;and...@hammar.net&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: How to tell EAR packager to use the exact names created by &lt;addClasspath&gt;true&lt;/addClasspath&gt;?</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Sun, 18 Mar 2012 15:17:01 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
Well, the bug is that the generated classpath does not match the
actual library file names.
I haven't looked at the code, but very possibly the bug might not be
in the plugin's code but some library used to calculate the classpath
(which expects unique snapshot file name). In any case, file the bug
report on the plugin and include a test project that will reproduce
the problem. Also clearly state what environment (exact Maven version
etc.) you're using.

/Anders

On Sat, Mar 17, 2012 at 15:35, Markus KARG &lt;markus@headcrashing.eu&gt; wrote:
&gt; Maven is 3.0.4
&gt;
&gt; What exactly do you think is "the bug": The fact that Class-Path is
&gt; replacing "-SNAPSHOT" by version, or the fact that EAR plugin is NOT doing
&gt; so?
&gt;
&gt; Thanks!
&gt; Markus
&gt;
&gt;&gt; -----Original Message-----
&gt;&gt; From: anders.g.hammar@gmail.com [mailto:anders.g.hammar@gmail.com] On
&gt;&gt; Behalf Of Anders Hammar
&gt;&gt; Sent: Montag, 12. MÃ¤rz 2012 11:21
&gt;&gt; To: Maven Users List
&gt;&gt; Subject: Re: How to tell EAR packager to use the exact names created by
&gt;&gt; &lt;addClasspath&gt;true&lt;/addClasspath&gt;?
&gt;&gt;
&gt;&gt; Sounds like a bug when building a multi-module project. File a JIRA
&gt;&gt; ticket with a test project to recreate the issue.
&gt;&gt; Also, if you're not using Maven 3, try to build with that as well to
&gt;&gt; see if that solves the problem.
&gt;&gt;
&gt;&gt; /Anders
&gt;&gt;
&gt;&gt; On Mon, Mar 12, 2012 at 10:06, Markus Karg &lt;karg@quipsy.de&gt; wrote:
&gt;&gt; &gt; I am using the ear and acr plugins to build an ear that contains an
&gt;&gt; &gt; app-client. It all works well but one thing is always wrong:
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; The car must use &lt;addClasspath&gt;true&lt;/addClasspath&gt; so the client
will
&gt;&gt; &gt; find the needed libraries. When those libraries are SNAPSHOTs, the
&gt;&gt; &gt; created manifest entry contains not "SNAPSHOT" but the latest date
&gt;&gt; (as
&gt;&gt; &gt; usual with SNAPSHOTs). But the ear plugin doesn't care for this. It
&gt;&gt; &gt; always uses "SNAPSHOT" (the word, not the latest version). As a
&gt;&gt; &gt; result, at runtime the client will not find the needed libraries, as
&gt;&gt; &gt; it looks for it by date, but it actually is named "SNAPSHOT".
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; For me this looks like a bug in the conception of the EAR plugin: It
&gt;&gt; &gt; must not statically build the name from the version string, but it
&gt;&gt; &gt; certainly needs to use the actual name of the artifact (here: the
&gt;&gt; date
&gt;&gt; &gt; of the snapshot).
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; Is that really a bug or am I too dumb to see the light? ;-)
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; Regards
&gt;&gt; &gt;
&gt;&gt; &gt; Markus
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt; ---------------------------------------------------------------------
&gt;&gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt;&gt; For additional commands, e-mail: users-help@maven.apache.org
&gt;
&gt;
&gt;
&gt; ---------------------------------------------------------------------
&gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt; For additional commands, e-mail: users-help@maven.apache.org
&gt;

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201203.mbox/raw/%3cCAKDUN1vtBKYQJJdUwh0Tmiqun0yTbRYnWUoJ6fct4bB+nmDGyA@mail.gmail.com%3e/">Unnamed text/plain</a> (inline, Quoted Printable, 3022 bytes)</li>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201203.mbox/raw/%3cCAKDUN1vtBKYQJJdUwh0Tmiqun0yTbRYnWUoJ6fct4bB+nmDGyA@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

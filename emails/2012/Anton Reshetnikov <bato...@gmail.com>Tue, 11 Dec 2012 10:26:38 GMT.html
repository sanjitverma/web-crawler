<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Running &quot;hello world&quot; JPA app with maven: No Persistence provider for EntityManager named XXX</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201212.mbox/%3cCAGHgk2OcxOG9nrqqTYb1zKSNGLWwkOgm9-uUMk4fWz8AtknexQ@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201212.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201212.mbox/%3c1355223325789-5737226.post@n5.nabble.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201212.mbox/%3c1355220795.73876.YahooMailNeo@web193602.mail.sg3.yahoo.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201212.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201212.mbox/%3cCALy+7UkT=LVOvq+Gr+jedbuRgDpqNSyRqNhJdTck2p4o_UEwKA@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201212.mbox/%3cCAGHgk2OcxOG9nrqqTYb1zKSNGLWwkOgm9-uUMk4fWz8AtknexQ@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201212.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201212.mbox/%3c1355223325789-5737226.post@n5.nabble.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201212.mbox/%3c1355220795.73876.YahooMailNeo@web193602.mail.sg3.yahoo.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201212.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201212.mbox/%3cCALy+7UkT=LVOvq+Gr+jedbuRgDpqNSyRqNhJdTck2p4o_UEwKA@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Anton Reshetnikov &lt;bato...@gmail.com&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Running &quot;hello world&quot; JPA app with maven: No Persistence provider for EntityManager named XXX</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Tue, 11 Dec 2012 10:26:38 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
Hello,

I'm learning JEE6 and I'm also new to Maven. I'm trying to resolve this
issue for two days already with no success, so maybe someone could help me
here? The thing is, I can't run a hello world app, that uses JPA. Here's
what I do and what I get:

mvn exec:java -Dexec.mainClass="ru.hatchery.jeetest.App"

[INFO] Scanning for projects...
[INFO]

[INFO]
------------------------------------------------------------------------
[INFO] Building jeetest 1.0-SNAPSHOT
[INFO]
------------------------------------------------------------------------
[INFO]
[INFO] &gt;&gt;&gt; exec-maven-plugin:1.2.1:java (default-cli) @ jeetest &gt;&gt;&gt;
[INFO]
[INFO] &lt;&lt;&lt; exec-maven-plugin:1.2.1:java (default-cli) @ jeetest &lt;&lt;&lt;
[INFO]
[INFO] --- exec-maven-plugin:1.2.1:java (default-cli) @ jeetest ---
[WARNING]
java.lang.reflect.InvocationTargetException
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:297)
    at java.lang.Thread.run(Thread.java:722)
Caused by: javax.persistence.PersistenceException: No Persistence provider
for EntityManager named jeetest
    at
javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:84)
    at
javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)
    at ru.hatchery.jeetest.App.main(App.java:16)
    ... 6 more
[INFO]
------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO]
------------------------------------------------------------------------
[INFO] Total time: 3.580s
[INFO] Finished at: Tue Dec 11 14:17:24 MSK 2012
[INFO] Final Memory: 8M/109M
[INFO]
------------------------------------------------------------------------
[ERROR] Failed to execute goal
org.codehaus.mojo:exec-maven-plugin:1.2.1:java (default-cli) on project
jeetest: An exception occured while executing the Java class. null:
InvocationTargetException: No Persistence provider for EntityManager named
jeetest -&gt; [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e
switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions,
please read the following articles:
[ERROR] [Help 1]
http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException



The persistence.xml file is located in my src/main/resources/META-INF and
it's being correctly copied to target/classes/META-INF. Here is the
persistence.xml:



&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;persistence     xmlns="http://java.sun/com/xml/ns/persistence"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                xsi:schemaLocation="http://java.sun.com/xml/ns/persistence
http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"
                version="2.0"&gt;

    &lt;persistence-unit name="jeetest" transaction-type="RESOURCE_LOCAL"&gt;
        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;
        &lt;class&gt;ru.hatchery.jeetest.Book&lt;/class&gt;
        &lt;properties&gt;
            &lt;property name="eclipselink.target-database" value="DERBY"/&gt;
            &lt;property name="eclipselink.ddl-generation"
value="create-tables"/&gt;
            &lt;property name="eclipselink.logging.level" value="INFO"/&gt;
            &lt;property name="javax.persistence.jdbc.driver"
value="org.apache.derby.jdbc.ClientDriver"/&gt;
            &lt;property name="javax.persistence.jdbc.url"
value="jdbc:derby://localhost:1527/jeetestdb;create=true"/&gt;
            &lt;property name="javax.persistence.jdbc.user" value="test"/&gt;
            &lt;property name="javax.persistence.jdbc.password" value="test"/&gt;
        &lt;/properties&gt;
    &lt;/persistence-unit&gt;

&lt;/persistence&gt;


The database is also up and running. And here is the pom.xml:


&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="
http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

  &lt;groupId&gt;ru.hatchery&lt;/groupId&gt;
  &lt;artifactId&gt;jeetest&lt;/artifactId&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
  &lt;packaging&gt;jar&lt;/packaging&gt;

  &lt;name&gt;jeetest&lt;/name&gt;

  &lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;EclipseLink&lt;/id&gt;
        &lt;url&gt;http://download.eclipse.org/rt/eclipselink/maven.repo&lt;/url&gt;
    &lt;/repository&gt;

    &lt;repository&gt;
        &lt;id&gt;DerbyClient&lt;/id&gt;
        &lt;url&gt;http://repository.apache.org/content/repositories/releases
&lt;/url&gt;
    &lt;/repository&gt;
  &lt;/repositories&gt;

  &lt;properties&gt;
    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
  &lt;/properties&gt;

  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;
      &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;
      &lt;version&gt;2.0.0&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;
      &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;
      &lt;version&gt;2.0.0&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;
      &lt;artifactId&gt;derbyclient&lt;/artifactId&gt;
      &lt;version&gt;10.6.1.0&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;4.11&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/project&gt;

Maybe I should add a dependency for that
org.eclipse.persistence.jpa.PersistenceProvider? But I don't know the
groupId, artifactId and version for it. I guess my mistake is stupid, but
I'm stuck on it. Please, give me a clue.

Thank you!
Anton Reshetnikov

</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li>Unnamed multipart/alternative (inline, None, 0 bytes)</li>
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201212.mbox/raw/%3cCACX-kJ3=YuLN3N6JOM-_4Of=kDos6r3-L4sh1KuqXh7Dr_F_qQ@mail.gmail.com%3e/1">Unnamed text/plain</a> (inline, None, 5792 bytes)</li>
</ul>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201212.mbox/raw/%3cCACX-kJ3=YuLN3N6JOM-_4Of=kDos6r3-L4sh1KuqXh7Dr_F_qQ@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

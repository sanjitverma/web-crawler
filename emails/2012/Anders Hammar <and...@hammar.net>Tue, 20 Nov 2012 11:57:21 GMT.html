<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: local repository problem</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201211.mbox/%3cD58B7D6FE5E2B64A8A1918423F1479081363716E@G2W2526.americas.hpqcorp.net%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201211.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201211.mbox/%3cD58B7D6FE5E2B64A8A1918423F147908136371BC@G2W2526.americas.hpqcorp.net%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201211.mbox/%3cD58B7D6FE5E2B64A8A1918423F1479081363716E@G2W2526.americas.hpqcorp.net%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201211.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201211.mbox/%3cD58B7D6FE5E2B64A8A1918423F147908136371BC@G2W2526.americas.hpqcorp.net%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201211.mbox/%3cD58B7D6FE5E2B64A8A1918423F1479081363716E@G2W2526.americas.hpqcorp.net%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201211.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201211.mbox/%3cD58B7D6FE5E2B64A8A1918423F147908136371BC@G2W2526.americas.hpqcorp.net%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201211.mbox/%3cD58B7D6FE5E2B64A8A1918423F1479081363716E@G2W2526.americas.hpqcorp.net%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201211.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201211.mbox/%3cD58B7D6FE5E2B64A8A1918423F147908136371BC@G2W2526.americas.hpqcorp.net%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Anders Hammar &lt;and...@hammar.net&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: local repository problem</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Tue, 20 Nov 2012 11:57:21 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
First of all, could you enlighten us why you're doing what you're doing? It
looks to me that your just making things difficult which will get you into
trouble. Maven is designed to work with repositories. If you don't like
that then Maven is probably not the tool for you.

Secondly, you can never remove all the repos from your build. The super-pom
declares central as a repo and you can't remove that. So, there will always
be at least one repo declared.

To answer the question about the error you run into I believe it is because
Maven 3.0.x keeps track of where an artifact has been downloaded from. So
if you remove the repo, this might not match although the artifact *file*
actually does exist in the local repo.

But please, rethink your approach as you, IMHO, are looking for problems.

/Anders


On Tue, Nov 20, 2012 at 12:39 PM, Levin, Ilya &lt;ilya.levin@hp.com&gt; wrote:

&gt; Hi,
&gt;
&gt; My problem is this.
&gt; I want my maven project to take the artifacts only from the local
&gt; repository.
&gt; The first mvn run is a regular one so that all artifact could be
&gt; downloaded to the local repository.
&gt; The second run is with flag -o (maven offline) . and it is in fact works -
&gt; maven uses only the cache.
&gt;
&gt; So in that case it's logical to think that if running offline, I can
&gt; REMOVE the repository name from my main pom (since all the artifact are
&gt; cached).
&gt; BUT the minute I do that (and still running  with flag -o) maven throws
&gt; this at me:
&gt; Unable to find artifact. The repository system is offline but the artifact
&gt; &lt;some artifact&gt; is not available in the local repository.
&gt;
&gt; and of course the artifact is there. When I return back the repository
&gt; name to the pom, again it works.
&gt; So why do I need the repository name in the pom if running offline?
&gt;
&gt; Thanks for the help.
&gt; ilya
&gt;
&gt;

</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li>Unnamed multipart/alternative (inline, None, 0 bytes)</li>
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201211.mbox/raw/%3cCAKDUN1tbfT80eiWWZuZuQzsffiD4EtX3S1zYVe79RVgbCMFtvA@mail.gmail.com%3e/1">Unnamed text/plain</a> (inline, None, 1804 bytes)</li>
</ul>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201211.mbox/raw/%3cCAKDUN1tbfT80eiWWZuZuQzsffiD4EtX3S1zYVe79RVgbCMFtvA@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

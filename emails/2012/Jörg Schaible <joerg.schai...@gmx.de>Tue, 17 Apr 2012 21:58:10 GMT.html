<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: Assembly plugin plugin</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201204.mbox/%3c4F8DE450.4020905@mandic.com.br%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201204.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201204.mbox/%3cCAG2rwuPR98CofrhU0QreiNU8ad1XpAUzY3P_uzfh-700HKiSuA@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201204.mbox/%3cCAD3ScoW7MkqWwgKvELcH=-sfqhpt5YBNtrnHWrmWbYFZGgU1vg@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201204.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201204.mbox/%3cCAD3ScoWGa4L+PuRw_keDFFRKvxMAiZNbNKdRzZG0KzF6m_C6gw@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201204.mbox/%3c4F8DE450.4020905@mandic.com.br%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201204.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201204.mbox/%3cCAG2rwuPR98CofrhU0QreiNU8ad1XpAUzY3P_uzfh-700HKiSuA@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201204.mbox/%3cCAD3ScoW7MkqWwgKvELcH=-sfqhpt5YBNtrnHWrmWbYFZGgU1vg@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201204.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201204.mbox/%3cCAD3ScoWGa4L+PuRw_keDFFRKvxMAiZNbNKdRzZG0KzF6m_C6gw@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Jörg Schaible &lt;joerg.schai...@gmx.de&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: Assembly plugin plugin</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Tue, 17 Apr 2012 21:58:10 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
Robert Egan wrote:

&gt; I have written a ContainerDescriptorHandler plugin for the Maven assembly
&gt; plugin. It works when the module that uses it is built 'standalone'. When
&gt; the module is built as part of a large multi-module project I see either
&gt; 
&gt; [INFO] : org.apache.maven.plugin.assembly.model.Assembly@13579e0
&gt; Assembly is incorrectly configured: null
&gt; 
&gt; Assembly: null is not configured correctly: Cannot find
&gt; ContainerDescriptorHandler with hint: instructions
&gt; 
&gt; Or, even worse,
&gt; 
&gt; [INFO] Trace
&gt; java.lang.OutOfMemoryError: Java heap space
&gt;         at java.lang.String.substring(String.java:1770)
&gt;         at
&gt; 
org.codehaus.plexus.interpolation.util.StringUtils.capitalizeFirstLetter(StringUtils.java:119)
&gt;         at
&gt; 
org.codehaus.plexus.interpolation.reflection.ReflectionValueExtractor.evaluate(ReflectionValueExtractor.java:90)
&gt;         at
&gt; 
org.codehaus.plexus.interpolation.ObjectBasedValueSource.getValue(ObjectBasedValueSource.java:59)
&gt;         at
&gt; 
org.codehaus.plexus.interpolation.PrefixedValueSourceWrapper.getValue(PrefixedValueSourceWrapper.java:134)
&gt;         at
&gt; 
org.codehaus.plexus.interpolation.AbstractDelegatingValueSource.getValue(AbstractDelegatingValueSource.java:44)
&gt;         at
&gt; 
org.codehaus.plexus.interpolation.StringSearchInterpolator.interpolate(StringSearchInterpolator.java:196)
&gt;         at
&gt; 
org.codehaus.plexus.interpolation.StringSearchInterpolator.interpolate(StringSearchInterpolator.java:124)
&gt;         at
&gt; 
org.apache.maven.project.interpolation.AbstractStringBasedModelInterpolator.interpolateInternal(AbstractStringBasedModelInterpolator.java:315)
&gt;         at
&gt; 
org.apache.maven.project.interpolation.StringSearchModelInterpolator$InterpolateObjectAction.traverseObjectWithParents(StringSearchModelInterpolator.java:185)
&gt;         at
&gt; 
org.apache.maven.project.interpolation.StringSearchModelInterpolator$InterpolateObjectAction.run(StringSearchModelInterpolator.java:135)
&gt;         at
&gt; 
org.apache.maven.project.interpolation.StringSearchModelInterpolator$InterpolateObjectAction.run(StringSearchModelInterpolator.java:102)
&gt;         at java.security.AccessController.doPrivileged(Native Method)
&gt;         at
&gt; 
org.apache.maven.project.interpolation.StringSearchModelInterpolator.interpolateObject(StringSearchModelInterpolator.java:80)
&gt;         at
&gt; 
org.apache.maven.project.interpolation.StringSearchModelInterpolator.interpolate(StringSearchModelInterpolator.java:62)
&gt;         at
&gt; 
org.apache.maven.project.DefaultMavenProjectBuilder.processProjectLogic(DefaultMavenProjectBuilder.java:990)
&gt;         at
&gt; 
org.apache.maven.project.DefaultMavenProjectBuilder.buildInternal(DefaultMavenProjectBuilder.java:880)
&gt;         at
&gt; 
org.apache.maven.project.DefaultMavenProjectBuilder.buildFromRepository(DefaultMavenProjectBuilder.java:255)
&gt;         at
&gt; 
org.apache.maven.project.artifact.MavenMetadataSource.retrieveRelocatedProject(MavenMetadataSource.java:163)
&gt;         at
&gt; 
org.apache.maven.project.artifact.MavenMetadataSource.retrieveRelocatedArtifact(MavenMetadataSource.java:94)
&gt;         at
&gt; 
org.apache.maven.artifact.resolver.DefaultArtifactCollector.recurse(DefaultArtifactCollector.java:387)
&gt;         at
&gt; 
org.apache.maven.artifact.resolver.DefaultArtifactCollector.recurse(DefaultArtifactCollector.java:435)
&gt;         at
&gt; 
org.apache.maven.artifact.resolver.DefaultArtifactCollector.recurse(DefaultArtifactCollector.java:435)
&gt;         at
&gt; 
org.apache.maven.artifact.resolver.DefaultArtifactCollector.collect(DefaultArtifactCollector.java:74)
&gt;         at
&gt; 
org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolveTransitively(DefaultArtifactResolver.java:316)
&gt;         at
&gt; 
org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolveTransitively(DefaultArtifactResolver.java:304)
&gt;         at
&gt; 
org.apache.maven.plugin.DefaultPluginManager.resolveTransitiveDependencies(DefaultPluginManager.java:1499)
&gt;         at
&gt; 
org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:442)
&gt;         at
&gt; 
org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:694)
&gt;         at
&gt; 
org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalWithLifecycle(DefaultLifecycleExecutor.java:556)
&gt;         at
&gt; 
org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(DefaultLifecycleExecutor.java:535)
&gt;         at
&gt; 
org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailures(DefaultLifecycleExecutor.java:387)
&gt; 
&gt; I have boosted the memory settings to ridiculously high values with no
&gt; effect, which leads me to believe I have created some kind of infinite
&gt; dependency loop, because many of the other modules also use the assembly
&gt; plugin (although without my ContainerDescriptorHandler).
&gt; 
&gt; Does Maven have a switch to log the workings of the dependency mechanism
&gt; as it does its job?


M2 or M3? For M2 the first error is normal, since every plugin is loaded 
once and once only. If the first usage of the assembly plugin does not 
contain your handler as part of its classpath, it will not be available 
anywhere else in the multi-project build. M3 should instantiate the plugin 
again with the proper CP.

- Jörg


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201204.mbox/raw/%3cjmkp1j$m6f$1@dough.gmane.org%3e/">Unnamed text/plain</a> (inline, 8-Bit, 5435 bytes)</li>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201204.mbox/raw/%3cjmkp1j$m6f$1@dough.gmane.org%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

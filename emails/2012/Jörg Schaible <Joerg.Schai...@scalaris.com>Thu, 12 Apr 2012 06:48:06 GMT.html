<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: DependencyResolutionException when upgrading from Maven 2.2.1 to Maven 3.0.4</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201204.mbox/%3cCADVp3v-u-4=C-ynz-G6U0udfrDuArDa_CoH0sqOScwNMbjfucA@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201204.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201204.mbox/%3c1334214678330-5634840.post@n5.nabble.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201204.mbox/%3cCALy+7U=SOekrCAndz4nyq3oQ-L10LUrEhXFAfTx8Avze6R=e+Q@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201204.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201204.mbox/%3cCAM80a_LwpwfypNzk5oRk_PcgSzMt=QypKqMCA5E79wn1MxR7GQ@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201204.mbox/%3cCADVp3v-u-4=C-ynz-G6U0udfrDuArDa_CoH0sqOScwNMbjfucA@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201204.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201204.mbox/%3c1334214678330-5634840.post@n5.nabble.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201204.mbox/%3cCALy+7U=SOekrCAndz4nyq3oQ-L10LUrEhXFAfTx8Avze6R=e+Q@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201204.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201204.mbox/%3cCAM80a_LwpwfypNzk5oRk_PcgSzMt=QypKqMCA5E79wn1MxR7GQ@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Jörg Schaible &lt;Joerg.Schai...@scalaris.com&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: DependencyResolutionException when upgrading from Maven 2.2.1 to Maven 3.0.4</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Thu, 12 Apr 2012 06:48:06 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
Hi,

Brain Dump wrote:

&gt; Hey -- sorry about the information overload. I've seen other posts on
&gt; other forums where people posted too little information and were asked to
&gt; post their source code or run something on full debug, etc., so I tried to
&gt; be complete. Didn't mean to overwhelm, and thanks for the responses.
&gt; 
&gt; Simply said, the dependency child-dep-jdk15 was handled without a problem
&gt; in Maven 2.2.1 but its presence causes Maven 3.0.4 to look for the parent
&gt; POM in remote repositories. Both child-alpha and child-dep-jdk15 have the
&gt; same parent. The dependency child-dep-jdk15 was separately compiled and
&gt; available on our own remote repository.
&gt; 
&gt; I did try adding &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt; to the parent
&gt; section of child-alpha, and that had no effect. The only two things that
&gt; I've managed to do to get the build to succeed is to (1) remove the
&gt; dependency listed within &lt;profiles&gt;&lt;/profiles&gt; of child-alpha, or (2)
&gt; first run mvn -N install on the parent first. So it seems that the
&gt; presence of the dependency is what's causing the problem, but I don't
&gt; understand why. (I haven't tried starting from scratch yet.) Neither
&gt; option above is okay because I need that dependency, and running mvn -N
&gt; install would be complicated for branching and our continuous integration
&gt; server.

1/ Your parent is not a SNAPSHOT version (*), therefore M3 might resolve it 
from the repository and ignore any relativePath element.
2/ You seem to define the repository in the POM. Don't do this. M3 might 
ignore these, because you could never really control foreign repositories 
defined in arbitrary POMs. Repositories should be declared in your 
settings.xml.
3/ Because of 1 and 2, M3 might fail to resolve the parent POM.


*) You should never build a non-SNAPSHOT version except when releasing it.

- Jörg


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201204.mbox/raw/%3cjm5tr6$c2b$1@dough.gmane.org%3e/">Unnamed text/plain</a> (inline, 8-Bit, 2042 bytes)</li>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201204.mbox/raw/%3cjm5tr6$c2b$1@dough.gmane.org%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

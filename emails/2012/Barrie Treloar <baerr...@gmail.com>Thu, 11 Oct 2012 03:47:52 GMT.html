<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: How to optimize maven dependencies to get better performance?</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201210.mbox/%3cCAArU9iY6cCNQnkRg953Yz9NWK=GFxV08zF10t5R1pUc5EumWxw@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201210.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201210.mbox/%3c255343FA5EEE4D4599D4588EE379349B23A6E61A@RHV-EXRDA-S21.corp.ebay.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201210.mbox/%3cCAArU9iY6cCNQnkRg953Yz9NWK=GFxV08zF10t5R1pUc5EumWxw@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201210.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201210.mbox/%3c255343FA5EEE4D4599D4588EE379349B23A6E61A@RHV-EXRDA-S21.corp.ebay.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201210.mbox/%3cCAArU9iY6cCNQnkRg953Yz9NWK=GFxV08zF10t5R1pUc5EumWxw@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201210.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201210.mbox/%3c255343FA5EEE4D4599D4588EE379349B23A6E61A@RHV-EXRDA-S21.corp.ebay.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201210.mbox/%3cCAArU9iY6cCNQnkRg953Yz9NWK=GFxV08zF10t5R1pUc5EumWxw@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201210.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201210.mbox/%3c255343FA5EEE4D4599D4588EE379349B23A6E61A@RHV-EXRDA-S21.corp.ebay.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Barrie Treloar &lt;baerr...@gmail.com&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: How to optimize maven dependencies to get better performance?</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Thu, 11 Oct 2012 03:47:52 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
On Thu, Oct 11, 2012 at 1:46 PM, Wang, Simon &lt;Yunfeng.Wang@ebay.com&gt; wrote:
&gt; Hi,
&gt;    We're in trouble of terrible performance on resolve maven dependencies.
&gt; I did some search about it. Basically below ways should be helpful:
&gt;
&gt; 1. optimize nexus server to improve response time.
&gt; 2. optimize maven dependencies.
&gt;   1) avoid duplicated dependencies
&gt;   2) avoid dependency conflict cases
&gt;   3)....
&gt;
&gt; Any others suggestions?

What specifically is your problem?

I can only guess at what you mean.
I'm assuming that when you run "mvn install" that maven is reaching
out to check for new dependencies which can be time consuming,
especially with an empty ~/.m2/repository local cache.
After the first install this shouldn't be a problem.

Firstly make sure that you do not define additional "repository" in
either your settings.xml or pom.xml.
Every dependency will be checked against all repositories defined.
So just by defining one extra repository will double the time it takes
to check dependencies.
There is no logic in Maven to blacklist/whitelist what artifacts are
located where, this is one reason why you use a Repository Manager.
You can see that if you declare repositories in your pom.xml and this
is published how it will affect everyone that includes your artifacts.
Please don't do that.

Secondly, make sure you lock down all version numbers of dependencies.
It is bad practice to not specify these as it makes your build non-reproducable.
This could also be a reason why it is slow as Maven will need to check
periodically to see if new versions are available.
You can use maven enforcer
(http://maven.apache.org/plugins/maven-enforcer-plugin/) to ensure
that you have no unversioned artifacts.

Thirdly, install a Maven Repository Manager (Nexus is one).
This will act as a local proxy and make downloading times much faster.
It also provides an aggregation point, so that there is only one
repository to check each artifact for and the Repository Manager will
hide checking the other repos
MRMs also allow you to do whitelist/blacklist stuff to improve performance.
If you are in a corporate environment you really want an MRM installed.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201210.mbox/raw/%3cCADVp3v_DwKauPt84XLNJEcM0eYwH=p4aw6B_vSn-MoP4+djNMg@mail.gmail.com%3e/">Unnamed text/plain</a> (inline, None, 2358 bytes)</li>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201210.mbox/raw/%3cCADVp3v_DwKauPt84XLNJEcM0eYwH=p4aw6B_vSn-MoP4+djNMg@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: Aggregate modules and parallel builds</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201211.mbox/%3cCA+qKyya014a82jKjD8c---Gkrsvc5N8U-PPPca=AjK_sQm6uhw@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201211.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201211.mbox/%3c312D6409B48EF64A89018D85E19111541CCD5B@xmb-rcd-x05.cisco.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201211.mbox/%3cCA+qKyya014a82jKjD8c---Gkrsvc5N8U-PPPca=AjK_sQm6uhw@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201211.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201211.mbox/%3cCA+qKyyYXxtNJy_OgDXV3qeaMxY=m5ew0_MhxiJ+M8LVx6Lej8A@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201211.mbox/%3cCA+qKyya014a82jKjD8c---Gkrsvc5N8U-PPPca=AjK_sQm6uhw@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201211.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201211.mbox/%3c312D6409B48EF64A89018D85E19111541CCD5B@xmb-rcd-x05.cisco.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201211.mbox/%3cCA+qKyya014a82jKjD8c---Gkrsvc5N8U-PPPca=AjK_sQm6uhw@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201211.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201211.mbox/%3cCA+qKyyYXxtNJy_OgDXV3qeaMxY=m5ew0_MhxiJ+M8LVx6Lej8A@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Ansgar Konermann &lt;ansgar.konerm...@googlemail.com&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: Aggregate modules and parallel builds</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Fri, 16 Nov 2012 21:25:39 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
Read this first (the useAllReactorProjects flag notes, especially):

https://maven.apache.org/plugins/maven-assembly-plugin/examples/multimodule/module-binary-inclusion-simple.html

https://maven.apache.org/plugins/maven-assembly-plugin/faq.html#module-binaries

Create a new child module to produce the assembly, have this module depend
on the child modules you want to include the binaries from AND use an
assembly descriptor having useAllReactorPlugins set to true.

Am 16.11.2012 22:06 schrieb "Ivan Dubrov" &lt;dubrov.ivan@gmail.com&gt;:
&gt;
&gt; Hi,
&gt;
&gt; During non-parallel build aggregate POMs are built last provided there is
&gt; no parent-child relationships between it and its submodules (correct me if
&gt; I am wrong).
&gt;
&gt; Is that preserved during parallel builds? Can I assume that root POM is
&gt; built after all its submodules are built? According to the build logs, it
&gt; seems like the answer is "no", but maybe I am missing something.
&gt;
&gt; If answer is "no", how can I ensure that aggregate POM is built last? For
&gt; example, I want to run assembly plugin after all submodules are built (in
&gt; parallel build)? Of course, I can run separate "mvn -N assembly:assembly"
&gt; command to assemble built stuff, but is there a way to do that during
&gt; regular build?
&gt; I don't want to specify dependencies explicitly since it could be
&gt; error-prone (submodules dependencies could change, for example).
&gt;
&gt; Can we have this convention back? Make
&gt; org.apache.maven.project.ProjectsSorter to add "weak" dependencies from
&gt; aggregate module to all its submodules?
&gt;
&gt; --
&gt; WBR,
&gt; Ivan Dubrov

</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li>Unnamed multipart/alternative (inline, None, 0 bytes)</li>
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201211.mbox/raw/%3cCA+U2j0p=hcAbtfxdgrw=-hwTQ6Z-DYAKDWLSV7KG9HXnor+V7w@mail.gmail.com%3e/1">Unnamed text/plain</a> (inline, None, 1576 bytes)</li>
</ul>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201211.mbox/raw/%3cCA+U2j0p=hcAbtfxdgrw=-hwTQ6Z-DYAKDWLSV7KG9HXnor+V7w@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

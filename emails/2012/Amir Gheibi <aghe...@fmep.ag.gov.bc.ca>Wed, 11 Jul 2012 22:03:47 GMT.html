<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>RE: Dependency entry changes runtime</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201207.mbox/%3cCALy+7UmWJm5DgnYBBe1PDwKxK7K3=LLBSnEhHpaiQuW8aGiFNA@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201207.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201207.mbox/%3cCALy+7UkCMW-Joits+tMttQ-6teampaQDuSf0-NVb2FPe2WnQ+g@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201207.mbox/%3cCALy+7UmWJm5DgnYBBe1PDwKxK7K3=LLBSnEhHpaiQuW8aGiFNA@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201207.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201207.mbox/%3cCALy+7UkCMW-Joits+tMttQ-6teampaQDuSf0-NVb2FPe2WnQ+g@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201207.mbox/%3cCALy+7UmWJm5DgnYBBe1PDwKxK7K3=LLBSnEhHpaiQuW8aGiFNA@mail.gmail.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201207.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201207.mbox/%3cCALy+7UkCMW-Joits+tMttQ-6teampaQDuSf0-NVb2FPe2WnQ+g@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201207.mbox/%3cCALy+7UmWJm5DgnYBBe1PDwKxK7K3=LLBSnEhHpaiQuW8aGiFNA@mail.gmail.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201207.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201207.mbox/%3cCALy+7UkCMW-Joits+tMttQ-6teampaQDuSf0-NVb2FPe2WnQ+g@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Amir Gheibi &lt;aghe...@fmep.ag.gov.bc.ca&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">RE: Dependency entry changes runtime</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Wed, 11 Jul 2012 22:03:47 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
Thanks mate. Still Identical MANIFEST(!) and when I compared the JARs with a tool (BeyondCompare)
I could only see one difference which is maven directory under META-INF directory.

Now that I think again, the problem is not that the class is not found. The error says "java.lang.IllegalArgumentException:
Object: com.xxx.entities.XyzEntity@3a18c1 is not a known entity type" which is coming from
EclipseLink in WebLogic.

But I wonder why  making a trivial change (as it seems) in POM file should make this behave
differently. I gotta be an issue in JPA. So out of this list's scope.



-----Original Message-----
From: Wayne Fay [mailto:waynefay@gmail.com]
Sent: July-11-12 12:33 PM
To: Maven Users List
Subject: Re: Dependency entry changes runtime

OK so back up.

First, leave the dependency out of A and run "mvn clean package". Set that jar file aside
(rename it and move it out of target or clean will remove it.)

Now add the dependency and run "mvn clean package". Set that jar file aside like you did before.

Now use some tool to unzip both and compare the contents. Surely there is a difference you
simply have not accounted for yet.

Wayne

On Wed, Jul 11, 2012 at 1:34 PM, Amir Gheibi &lt;agheibi@fmep.ag.gov.bc.ca&gt; wrote:
&gt; Here is A's Manifest entry which as I mentioned, is identical in both scenarios.
&gt;
&gt; Manifest-Version: 1.0
&gt; Built-By: bm03043
&gt; Build-Jdk: 1.6.0_18
&gt; Created-By: Apache Maven 3.0.4
&gt; Archiver-Version: Plexus Archiver
&gt; Extension-List: entities
&gt; entities-Extension-Name: com.xxx.entities
&gt;
&gt; -----Original Message-----
&gt; From: Wayne Fay [mailto:waynefay@gmail.com]
&gt; Sent: July-11-12 11:13 AM
&gt; To: Maven Users List
&gt; Subject: Re: Dependency entry changes runtime
&gt;
&gt;&gt; Runtime environment is a "Weblogic 10.3.3" in which "B" is registered as an Optional
Package (Library) and there is an extension entry in A's MANIFEST that refers to it (that's
how A finds B in runtime).
&gt;&gt;
&gt;&gt; I compared A's JAR file in both scenarios and I don't see any difference whatsoever
except the POM file within the Maven directory, which as far as I understand, doesn't have
any effect on runtime.
&gt;&gt;
&gt;&gt; Why would the dependency entry change runtime behavior?
&gt;
&gt; Didn't you already answer your own question? The answer is the
&gt; MANIFEST entry. If you check, the MANIFEST entry will (should) only
&gt; appear when the dependency is added with runtime scope.
&gt;
&gt; Wayne
&gt;
&gt; ---------------------------------------------------------------------
&gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt; For additional commands, e-mail: users-help@maven.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org
</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201207.mbox/raw/%3cABB151421EA480408FE016CFB8E1AAF03AB3C1024B@exchange1.exchange.themis.ag.gov.bc.ca%3e/">Unnamed text/plain</a> (inline, Base64, 4091 bytes)</li>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201207.mbox/raw/%3cABB151421EA480408FE016CFB8E1AAF03AB3C1024B@exchange1.exchange.themis.ag.gov.bc.ca%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

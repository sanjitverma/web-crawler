<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: Different behavior when building a project as a module or &quot;stand-alone&quot;</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201204.mbox/%3c518BD89AF73FCF4FAF5D2E526C5A66340187D7F575@SEGOTC5146-CCR.vcn.ds.volvo.net%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201204.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201204.mbox/%3c23A19FFA-DC44-4252-AF7E-AE2CDA133377@gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201204.mbox/%3c4F79F4BB.4070209@artifact-software.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201204.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201204.mbox/%3cCALy+7UmHCHLT0wQ=ctqZ07sN3Dmq_mah_OffWTZ8+-kDCOa4RQ@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201204.mbox/%3c518BD89AF73FCF4FAF5D2E526C5A66340187D7F575@SEGOTC5146-CCR.vcn.ds.volvo.net%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201204.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201204.mbox/%3c23A19FFA-DC44-4252-AF7E-AE2CDA133377@gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201204.mbox/%3c4F79F4BB.4070209@artifact-software.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201204.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201204.mbox/%3cCALy+7UmHCHLT0wQ=ctqZ07sN3Dmq_mah_OffWTZ8+-kDCOa4RQ@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Philippe Lagard√®re &lt;philippe.lagard...@gmail.com&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: Different behavior when building a project as a module or &quot;stand-alone&quot;</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Tue, 03 Apr 2012 09:18:23 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
&gt; Are you using a Maven repo such as Nexus?
&gt; 
&gt; Can you not give your corporate libraries GAV designations that are
&gt; controlled so the version numbers are monotonically increasing?

We do use a Maven repo, although we had to abandon Nexus in favor of
Artifactory. 

Originally, we used versions when deploying those corporate libraries, but
we didn't know how to automate the whole thing (namely, upgrading the
version numbers). The easiest I could come up with was antrun + external
properties files. This was considered going overboard for a basic use case,
so we abandoned that idea, in favor of using a single version.

There must be simpler ways to do this out there, but I did not manage to
find them.
Since there are no SCM interactions, release plugin didn't seem to fit. I
looked at a couple of third party plugins (this one, for instance :
http://mojo.codehaus.org/versions-maven-plugin/), but I couldn't find what I
was looking for. The solution might be right in front of me, but I can't
find it.

I'd appreciate a lot some pointers on this "issue". The problem I
encountered would probably be void if I was doing things right.

&gt; I want to be sure that I understand what you are saying here. The
&gt; versions are DIFFERENT each time you run deploy-file, right? It is a
&gt; basic premise of Maven and most sane build systems that that a given
&gt; artifact with a particular version number must be immutable. Otherwise
&gt; you have no idea if your file versioned 2.3.2 is the "right one" vs
&gt; another file with version 2.3.2 that exists somewhere else. 

This is a problem we failed to take into consideration. We are effectively
using a single, fixed version, which means there is only one jar/pom for
each of the corporate libraries managed this way. We acknowledged that this
was definitely not the intended way of managing libraries, but we didn't see
that one problem you pointed out. 
It is somewhat lessened by the fact that only one person updates these
libraries, and that my project is the only one to resolve these dependencies
from our Maven repository, but clearly, this will become problematic at some
point.

As I mentionned above, these problem originate from the fact that I am not
managing these corporate libraries the way I should. I will revert to
manual, version enabled deployment for the time being, but I remain
extremely interested in automating the process (basically, how to
automatically increment the version using maven plugins, or something not
too far-fetched).

Any help on this matter will be greatly appreciated !


Philippe

--
View this message in context: http://maven.40175.n5.nabble.com/Different-behavior-when-building-a-project-as-a-module-or-stand-alone-tp5607081p5614606.html
Sent from the Maven - Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201204.mbox/raw/%3c1333444703325-5614606.post@n5.nabble.com%3e/">Unnamed text/plain</a> (inline, 7-Bit, 2983 bytes)</li>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201204.mbox/raw/%3c1333444703325-5614606.post@n5.nabble.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

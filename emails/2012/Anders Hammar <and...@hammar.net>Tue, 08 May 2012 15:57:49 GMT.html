<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: Modules in multi-module project being build twice</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201205.mbox/%3calpine.DEB.1.00.1205081015480.27828@bonsai2%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201205.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201205.mbox/%3c34922D8098CB7048A99568D009AF262D085AF5430E@NYKPCMMGMB05.INTRANET.BARCAPINT.COM%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201205.mbox/%3c4FA92DBA.9070600@wellfleetsoftware.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201205.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201205.mbox/%3c4FA95340.5060809@wellfleetsoftware.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201205.mbox/%3calpine.DEB.1.00.1205081015480.27828@bonsai2%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201205.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201205.mbox/%3c34922D8098CB7048A99568D009AF262D085AF5430E@NYKPCMMGMB05.INTRANET.BARCAPINT.COM%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201205.mbox/%3c4FA92DBA.9070600@wellfleetsoftware.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201205.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201205.mbox/%3c4FA95340.5060809@wellfleetsoftware.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Anders Hammar &lt;and...@hammar.net&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: Modules in multi-module project being build twice</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Tue, 08 May 2012 15:57:49 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
You're using the wrong goal of the maven-assembly-plugin in that
module. It should be the "single" goal.

/Anders

On Tue, May 8, 2012 at 3:21 PM, Farrukh Najmi
&lt;farrukh@wellfleetsoftware.com&gt; wrote:
&gt;
&gt; Hi Guys,
&gt;
&gt; I have a multi-module project to which I recently added a new module as the
&gt; last module.
&gt; When I build the project it builds all modules but the last module fine and
&gt; then fails to build the last module and gives the stack trace below.
&gt;
&gt; [ERROR] Failed to execute goal
&gt; org.codehaus.mojo:jaxws-maven-plugin:1.9:wsimport (default) on project xxxx:
&gt; org.apache.xerces.parsers.XML
&gt; 11Configuration cannot be cast to
&gt; org.apache.xerces.xni.parser.XMLParserConfiguration -&gt; [Help 1]
&gt; org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute
&gt; goal org.codehaus.mojo:jaxws-maven-plugin:1.9:wsimport (default) on projec
&gt; t regrep-bindings: org.apache.xerces.parsers.XML11Configuration cannot be
&gt; cast to org.apache.xerces.xni.parser.XMLParserConfiguration
&gt;        at
&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:217)
&gt;        at
&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
&gt;        at
&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
&gt;        at
&gt; org.apache.maven.lifecycle.internal.MojoExecutor.executeForkedExecutions(MojoExecutor.java:365)
&gt;        at
&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:199)
&gt;        at
&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
&gt;        at
&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
&gt;        at
&gt; org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
&gt;        at
&gt; org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
&gt;        at
&gt; org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
&gt;        at
&gt; org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
&gt;        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)
&gt;        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
&gt;        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
&gt;        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
&gt;        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
&gt;        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&gt;        at
&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
&gt;        at
&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
&gt;        at java.lang.reflect.Method.invoke(Method.java:597)
&gt;        at
&gt; org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
&gt;        at
&gt; org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
&gt;        at
&gt; org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
&gt;        at
&gt; org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)
&gt; Caused by: org.apache.maven.plugin.MojoExecutionException:
&gt; org.apache.xerces.parsers.XML11Configuration cannot be cast to
&gt; org.apache.xerces.xni.parser.XMLParserConfiguration
&gt;        at
&gt; org.codehaus.mojo.jaxws.WsImportMojo.execute(WsImportMojo.java:204)
&gt;        at
&gt; org.codehaus.mojo.jaxws.MainWsImportMojo.execute(MainWsImportMojo.java:15)
&gt;        at
&gt; org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
&gt;        at
&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
&gt;        ... 23 more
&gt; Caused by: java.lang.ClassCastException:
&gt; org.apache.xerces.parsers.XML11Configuration cannot be cast to
&gt; org.apache.xerces.xni.parser.XMLParserConfiguration
&gt;        at org.apache.xerces.parsers.SAXParser.&lt;init&gt;(Unknown Source)
&gt;        at org.apache.xerces.parsers.SAXParser.&lt;init&gt;(Unknown Source)
&gt;        at org.apache.xerces.jaxp.SAXParserImpl.&lt;init&gt;(Unknown Source)
&gt;        at org.apache.xerces.jaxp.SAXParserFactoryImpl.newSAXParser(Unknown
&gt; Source)
&gt;        at
&gt; com.sun.org.apache.xml.internal.resolver.readers.SAXCatalogReader.readCatalog(SAXCatalogReader.java:238)
&gt;        at
&gt; com.sun.org.apache.xml.internal.resolver.Catalog.parseCatalog(Catalog.java:680)
&gt;        at
&gt; com.sun.xml.ws.util.xml.XmlUtil.createEntityResolver(XmlUtil.java:270)
&gt;        at
&gt; com.sun.tools.ws.wscompile.WsimportOptions.parseArguments(WsimportOptions.java:207)
&gt;        at
&gt; com.sun.tools.ws.wscompile.WsimportOptions.parseArguments(WsimportOptions.java:149)
&gt;        at com.sun.tools.ws.wscompile.WsimportTool.run(WsimportTool.java:167)
&gt;        at
&gt; org.codehaus.mojo.jaxws.WsImportMojo.wsImport(WsImportMojo.java:274)
&gt;        at
&gt; org.codehaus.mojo.jaxws.WsImportMojo.processLocalWsdlFiles(WsImportMojo.java:236)
&gt;        at
&gt; org.codehaus.mojo.jaxws.WsImportMojo.execute(WsImportMojo.java:191)
&gt;        ... 26 more
&gt;
&gt; The last module is really just to perform an assembly of a zip file from
&gt; artifacts in various other modules using maven-assembly-plugin.
&gt; When I inspect the log (with -X option on) I see something strange that I
&gt; cannot explain. For some reason it seems that the building of the last
&gt; module  is causing the root / parent pom module to be rebuilt all over again
&gt; causing its sub-modules to be rebuilt as well. This would normally be an
&gt; infinite recursive problem but for the exception that is encountered when
&gt; building the first sub-module regrep-bindings during the unexpected second
&gt; time build.
&gt;
&gt; If I rebuild the last module using the -rf (resume from) option of maven
&gt; then it builds just fine.
&gt;
&gt; The log file (with -X option) is available here:
&gt;
&gt; http://tinyurl.com/blsdone
&gt;
&gt; The questionable part of the log can be found by searching for "[INFO]
&gt; Forking" in the log file. It is unclear why that project is being forked
&gt; during the maven-assembly-plugin execution during the build of the last
&gt; module.
&gt;
&gt; Can any one please help me figure this one out? Thanks.
&gt;
&gt; --
&gt; Regards,
&gt; Farrukh Najmi
&gt;
&gt; Web: http://www.wellfleetsoftware.com
&gt;
&gt;
&gt;
&gt; ---------------------------------------------------------------------
&gt; To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
&gt; For additional commands, e-mail: users-help@maven.apache.org
&gt;

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201205.mbox/raw/%3cCAKDUN1uc1qXYt2CMUF7Fn7rgEp14Yt3WboCPduPtL_JN6KSSPg@mail.gmail.com%3e/">Unnamed text/plain</a> (inline, Quoted Printable, 7063 bytes)</li>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201205.mbox/raw/%3cCAKDUN1uc1qXYt2CMUF7Fn7rgEp14Yt3WboCPduPtL_JN6KSSPg@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>

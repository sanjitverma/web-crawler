<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Re: Why does mvn compiile using java 1.3?</title>
  <link rel="stylesheet" type="text/css" href="/archives/style.css" />
 </head>

 <body id="archives">
  <h1>maven-users mailing list archives</h1>

  <h5>
<a href="http://mail-archives.apache.org/mod_mbox/" title="Back to the archives depot">Site index</a> &middot; <a href="/mod_mbox/maven-users" title="Back to the list index">List index</a></h5>  <table class="static" id="msgview">
   <thead>
    <tr>
    <th class="title">Message view</th>
    <th class="nav"><a href="/mod_mbox/maven-users/201211.mbox/%3c50B8C509.4060607@artifact-software.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201211.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201211.mbox/%3cCAArDntjxMdukmzcpYyrrbciGNTGwfknOUJ_L4nRiFAWKOiKi4Q@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201211.mbox/%3c50B8C509.4060607@artifact-software.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201211.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201211.mbox/%3cCAArDntjxMdukmzcpYyrrbciGNTGwfknOUJ_L4nRiFAWKOiKi4Q@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </thead>

   <tfoot>
    <tr>
    <th class="title"><a href="#archives">Top</a></th>
    <th class="nav"><a href="/mod_mbox/maven-users/201211.mbox/%3c50B8C509.4060607@artifact-software.com%3e" title="Previous by date">&laquo;</a> <a href="/mod_mbox/maven-users/201211.mbox/date" title="View messages sorted by date">Date</a> <a href="/mod_mbox/maven-users/201211.mbox/%3cCAArDntjxMdukmzcpYyrrbciGNTGwfknOUJ_L4nRiFAWKOiKi4Q@mail.gmail.com%3e" title="Next by date">&raquo;</a> &middot; <a href="/mod_mbox/maven-users/201211.mbox/%3c50B8C509.4060607@artifact-software.com%3e" title="Previous by thread">&laquo;</a> <a href="/mod_mbox/maven-users/201211.mbox/thread" title="View messages sorted by thread">Thread</a> <a href="/mod_mbox/maven-users/201211.mbox/%3cCAArDntjxMdukmzcpYyrrbciGNTGwfknOUJ_L4nRiFAWKOiKi4Q@mail.gmail.com%3e" title="Next by thread">&raquo;</a></th>
   </tr>
   </tfoot>

   <tbody>
   <tr class="from">
    <td class="left">From</td>
    <td class="right">Aliaksei Lahachou &lt;aliaksei.lahac...@gmail.com&gt;</td>
   </tr>
   <tr class="subject">
    <td class="left">Subject</td>
    <td class="right">Re: Why does mvn compiile using java 1.3?</td>
   </tr>
   <tr class="date">
    <td class="left">Date</td>
    <td class="right">Fri, 30 Nov 2012 15:07:10 GMT</td>
   </tr>
   <tr class="contents"><td colspan="2"><pre>
I understand that it's not about making Maven run on 7.

The problem is that people build artifacts on 7 (which will become more
often if it's default) and deploy these artifacts to repository, then
people who are using JDK 6 will not be able to compile with this artifacts
(the target JDK is written somewhere in .class files and older compilers
will refuse to accept them).

Try building a project on JDK 6 which depends on
com.adobe.xmp:xmpcore:5.1.2, it will fail. But the XMP core source can be
built with JDK 5. Whoever uploaded this artifact to Maven central made it
unusable with JDK 5 or 6 simply because he compiled it with JDK 7.


On Fri, Nov 30, 2012 at 3:39 PM, Ron Wheeler &lt;rwheeler@artifact-software.com
&gt; wrote:

&gt; We are not talking about making Maven only run on 7.
&gt; We just want to move the default compiler to 6 (at least) or 7.
&gt; You can always set it back to 1.3.
&gt; It is just odd for new projects to start up with Maven and suddenly find
&gt; than Maven wants to use 1.3 to compile code.
&gt;
&gt; Please, no more warnings about perfectly correct behaviour.
&gt; I already get a bogus warning message if my parent pom and my project are
&gt; in the same group which is exactly the way its supposed to be.
&gt;
&gt; There is nothing wrong with building with Java 7 if that is the run-time
&gt; that you want.
&gt;
&gt; Your point about people building shared libraries is very good.
&gt; I don't know of any convention or build process that will indicate that a
&gt; Maven Artifact requires 1.7 (or 1.6 or 1.5) to run properly.
&gt; I guess that the library author will have to decide how far back into Java
&gt; history needs to be supported.
&gt;
&gt; Does Apache have any policies or guidelines or Best Practices with regard
&gt; to the choice of Java version with which to publish libraries?
&gt;
&gt; Ron
&gt;
&gt;
&gt;
&gt; On 30/11/2012 8:42 AM, Aliaksei Lahachou wrote:
&gt;
&gt;&gt; Hello everyone,
&gt;&gt;
&gt;&gt; I'm am against updating default version to 1.7. My favourite option would
&gt;&gt; be to use the lowest possible version of JDK and give a warning if version
&gt;&gt; is not specified explicitly (similar to what resources plugin does with
&gt;&gt; encoding). I would actually go as far as warning people if they explicitly
&gt;&gt; specify version 1.7. There are a lot of folks who think they are so great
&gt;&gt; using the newest versions, but it actually may cause problems.
&gt;&gt;
&gt;&gt; We have a pretty big and old application which is currently developed and
&gt;&gt; run on JDK 1.6. There were issues with 1.7, but they were fixed. The real
&gt;&gt; problem is updating customers - there are about 300 different
&gt;&gt; installations
&gt;&gt; supported by our teams. It's actually pretty difficult to get on customers
&gt;&gt; servers, for each you have to contact their IT and schedule a session and
&gt;&gt; downtime.
&gt;&gt;
&gt;&gt; The problem is the following. Real life experience: I wanted to use Adobe
&gt;&gt; XMP core and luckily, it was in Maven central. But not so luckily, it was
&gt;&gt; compiled with JDK 1.7 (without any need) and JDK 1.6 refused to compile
&gt;&gt; with it. I had to get the sources, compile with JDK 1.6 and put it to our
&gt;&gt; local Nexus. If maven-compiler-plugin default version is updated to 1.7, I
&gt;&gt; expect more artifacts built for 1.7 without any need.
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; htfv (Aliaksei Lahachou)
&gt;&gt;
&gt;&gt;
&gt;&gt; On Fri, Nov 30, 2012 at 12:01 PM, Thorsten Heit &lt;thorsten.heit@vkb.de
&gt;&gt; &gt;wrote:
&gt;&gt;
&gt;&gt;  Hi,
&gt;&gt;&gt;
&gt;&gt;&gt;  I have never seen any java application fail just because I run the
&gt;&gt;&gt;&gt; version 7 VM. Even really old code still runs.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt; A couple of Atlassian applications I work with in our department that
&gt;&gt;&gt; didn't run (fine) with Java 7:
&gt;&gt;&gt;
&gt;&gt;&gt; - JIRA &lt;= 5.1.x (5.2 was released ~3 weeks ago)
&gt;&gt;&gt; - Bamboo &lt;= 3.2.x (3.3 was released 11 october 2011)
&gt;&gt;&gt; - Confluence &lt;= 4.1.x (4.2 was released 10 april 2012)
&gt;&gt;&gt;
&gt;&gt;&gt; etc.
&gt;&gt;&gt; It took quite a long time for the manufacturer to implement the necessary
&gt;&gt;&gt; changes to let their products work with Java 7. JIRA for example wouldn't
&gt;&gt;&gt; even start correctly when using 1.7.* and instead threw lots of
&gt;&gt;&gt; exceptions
&gt;&gt;&gt; in its log, whereas for at least Confluence 4.1.x there were some
&gt;&gt;&gt; workarounds to let it run with a JVM 7...
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; In our department we had a very old legacy application written by some
&gt;&gt;&gt; colleagues back in the days of Java 1.2 when the first Swing UI came out.
&gt;&gt;&gt; They told me they had lots of problems with former Swing UI bugs and
&gt;&gt;&gt; programmed workarounds to get the application finally work with Java 1.4.
&gt;&gt;&gt; These workarounds didn't work correct anymore with Java 5 (Swing bugs
&gt;&gt;&gt; were
&gt;&gt;&gt; fixed?), i.e. the application's UI had some nice "features" a.k.a bugs
&gt;&gt;&gt; :-o
&gt;&gt;&gt;
&gt;&gt;&gt; Unfortunately they weren't given the time to fix them (you know, the
&gt;&gt;&gt; usual
&gt;&gt;&gt; problems with sales that had other priorities...) so they had to stick
&gt;&gt;&gt; with Java 1.4 until ~2.5 years ago (!), until the application finally
&gt;&gt;&gt; died
&gt;&gt;&gt; about one year ago. That's life...
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Regards
&gt;&gt;&gt;
&gt;&gt;&gt; Thorsten
&gt;&gt;&gt;
&gt;&gt;
&gt;
&gt; --
&gt; Ron Wheeler
&gt; President
&gt; Artifact Software Inc
&gt; email: rwheeler@artifact-software.com
&gt; skype: ronaldmwheeler
&gt; phone: 866-970-2435, ext 102
&gt;
&gt;
&gt; ------------------------------**------------------------------**---------
&gt; To unsubscribe, e-mail: users-unsubscribe@maven.**apache.org&lt;users-unsubscribe@maven.apache.org&gt;
&gt; For additional commands, e-mail: users-help@maven.apache.org
&gt;
&gt;

</pre></td></tr>
   <tr class="mime">
    <td class="left">Mime</td>
    <td class="right">
<ul>
<li>Unnamed multipart/alternative (inline, None, 0 bytes)</li>
<ul>
<li><a rel="nofollow" href="/mod_mbox/maven-users/201211.mbox/raw/%3cCALcFPWHaz1ChUcGUgrAx-CK03C3=TVnUr2hpTGX=oEdxsXfUgA@mail.gmail.com%3e/1">Unnamed text/plain</a> (inline, None, 5290 bytes)</li>
</ul>
</ul>
</td>
</tr>
   <tr class="raw">
    <td class="left"></td>
    <td class="right"><a href="/mod_mbox/maven-users/201211.mbox/raw/%3cCALcFPWHaz1ChUcGUgrAx-CK03C3=TVnUr2hpTGX=oEdxsXfUgA@mail.gmail.com%3e" rel="nofollow">View raw message</a></td>
   </tr>
   </tbody>
  </table>
 </body>
</html>
